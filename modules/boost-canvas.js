/*
 Highcharts JS v11.1.0 (2023-08-20)

 Boost module

 (c) 2010-2021 Highsoft AS
 Author: Torstein Honsi

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/boost-canvas",["highcharts"],function(x){a(x);a.Highcharts=x;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function x(a,d,g,w){a.hasOwnProperty(d)||(a[d]=w.apply(null,g),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:d,module:a[d]}})))}a=a?
a._modules:{};x(a,"Extensions/Boost/Boostables.js",[],function(){return"area areaspline arearange column columnrange bar line scatter heatmap bubble treemap".split(" ")});x(a,"Extensions/Boost/BoostableMap.js",[a["Extensions/Boost/Boostables.js"]],function(a){const d={};a.forEach(a=>{d[a]=!0});return d});x(a,"Extensions/Boost/BoostChart.js",[a["Extensions/Boost/BoostableMap.js"],a["Core/Utilities.js"]],function(a,d){function g(e){const c=e.series,d=e.boost=e.boost||{};var p=e.options.boost||{},F=
A(p.seriesThreshold,50);if(c.length>=F)return!0;if(1===c.length)return!1;p=p.allowForce;if("undefined"===typeof p){p=!0;for(var g of e.xAxis)if(A(g.min,-Infinity)>A(g.dataMin,-Infinity)||A(g.max,Infinity)<A(g.dataMax,Infinity)){p=!1;break}}if("undefined"!==typeof d.forceChartBoost){if(p)return d.forceChartBoost;d.forceChartBoost=void 0}g=e=0;for(const d of c)F=d.options,0!==F.boostThreshold&&!1!==d.visible&&"heatmap"!==d.type&&(a[d.type]&&++e,y(d.processedXData,F.data,d.points)>=(F.boostThreshold||
Number.MAX_VALUE)&&++g);d.forceChartBoost=p&&(e===c.length&&0<g||5<g);return d.forceChartBoost}function w(e){c(e,"predraw",function(){e.boost=e.boost||{};e.boost.forceChartBoost=void 0;e.boosted=!1;e.boost.clear&&e.boost.clear();e.boost.canvas&&e.boost.wgl&&g(e)&&e.boost.wgl.allocateBuffer(e);e.boost.markerGroup&&e.xAxis&&0<e.xAxis.length&&e.yAxis&&0<e.yAxis.length&&e.boost.markerGroup.translate(e.xAxis[0].pos,e.yAxis[0].pos)});c(e,"render",function(){e.boost&&e.boost.wgl&&g(e)&&e.boost.wgl.render(e)});
let a=-1,d=-1;c(e.pointer,"afterGetHoverData",()=>{var c=e.hoverSeries;e.boost=e.boost||{};if(e.boost.markerGroup&&c){const g=e.inverted?c.yAxis:c.xAxis;c=e.inverted?c.xAxis:c.yAxis;if(g&&g.pos!==a||c&&c.pos!==d)e.boost.markerGroup.translate(g.pos,c.pos),a=g.pos,d=c.pos}})}function y(...e){let c=-Number.MAX_VALUE;e.forEach(function(e){if("undefined"!==typeof e&&null!==e&&"undefined"!==typeof e.length&&0<e.length)return c=e.length,!0});return c}const {addEvent:c,pick:A}=d,F=[];return{compose:function(e,
c){c&&d.pushUnique(F,e)&&e.prototype.callbacks.push(w);return e},getBoostClipRect:function(e,c){const a={x:e.plotLeft,y:e.plotTop,width:e.plotWidth,height:e.plotHeight};c===e&&(c=e.inverted?e.xAxis:e.yAxis,1>=c.length?(a.y=Math.min(c[0].pos,a.y),a.height=c[0].pos-e.plotTop+c[0].len):a.height=e.plotHeight);return a},isChartSeriesBoosting:g}});x(a,"Extensions/Boost/WGLDrawMode.js",[],function(){return{area:"LINES",arearange:"LINES",areaspline:"LINES",column:"LINES",columnrange:"LINES",bar:"LINES",line:"LINE_STRIP",
scatter:"POINTS",heatmap:"TRIANGLES",treemap:"TRIANGLES",bubble:"POINTS"}});x(a,"Extensions/Boost/WGLShader.js",[a["Core/Utilities.js"]],function(a){const {clamp:d,error:g,pick:w}=a;class y{constructor(c){this.errors=[];this.uLocations={};(this.gl=c)&&this.createShader()}bind(){this.gl&&this.shaderProgram&&this.gl.useProgram(this.shaderProgram)}createShader(){const c=this.stringToProgram("#version 100\n#define LN10 2.302585092994046\nprecision highp float;\nattribute vec4 aVertexPosition;\nattribute vec4 aColor;\nvarying highp vec2 position;\nvarying highp vec4 vColor;\nuniform mat4 uPMatrix;\nuniform float pSize;\nuniform float translatedThreshold;\nuniform bool hasThreshold;\nuniform bool skipTranslation;\nuniform float xAxisTrans;\nuniform float xAxisMin;\nuniform float xAxisMinPad;\nuniform float xAxisPointRange;\nuniform float xAxisLen;\nuniform bool  xAxisPostTranslate;\nuniform float xAxisOrdinalSlope;\nuniform float xAxisOrdinalOffset;\nuniform float xAxisPos;\nuniform bool  xAxisCVSCoord;\nuniform bool  xAxisIsLog;\nuniform bool  xAxisReversed;\nuniform float yAxisTrans;\nuniform float yAxisMin;\nuniform float yAxisMinPad;\nuniform float yAxisPointRange;\nuniform float yAxisLen;\nuniform bool  yAxisPostTranslate;\nuniform float yAxisOrdinalSlope;\nuniform float yAxisOrdinalOffset;\nuniform float yAxisPos;\nuniform bool  yAxisCVSCoord;\nuniform bool  yAxisIsLog;\nuniform bool  yAxisReversed;\nuniform bool  isBubble;\nuniform bool  bubbleSizeByArea;\nuniform float bubbleZMin;\nuniform float bubbleZMax;\nuniform float bubbleZThreshold;\nuniform float bubbleMinSize;\nuniform float bubbleMaxSize;\nuniform bool  bubbleSizeAbs;\nuniform bool  isInverted;\nfloat bubbleRadius(){\nfloat value = aVertexPosition.w;\nfloat zMax = bubbleZMax;\nfloat zMin = bubbleZMin;\nfloat radius = 0.0;\nfloat pos = 0.0;\nfloat zRange = zMax - zMin;\nif (bubbleSizeAbs){\nvalue = value - bubbleZThreshold;\nzMax = max(zMax - bubbleZThreshold, zMin - bubbleZThreshold);\nzMin = 0.0;\n}\nif (value < zMin){\nradius = bubbleZMin / 2.0 - 1.0;\n} else {\npos = zRange > 0.0 ? (value - zMin) / zRange : 0.5;\nif (bubbleSizeByArea && pos > 0.0){\npos = sqrt(pos);\n}\nradius = ceil(bubbleMinSize + pos * (bubbleMaxSize - bubbleMinSize)) / 2.0;\n}\nreturn radius * 2.0;\n}\nfloat translate(float val,\nfloat pointPlacement,\nfloat localA,\nfloat localMin,\nfloat minPixelPadding,\nfloat pointRange,\nfloat len,\nbool  cvsCoord,\nbool  isLog,\nbool  reversed\n){\nfloat sign = 1.0;\nfloat cvsOffset = 0.0;\nif (cvsCoord) {\nsign *= -1.0;\ncvsOffset = len;\n}\nif (isLog) {\nval = log(val) / LN10;\n}\nif (reversed) {\nsign *= -1.0;\ncvsOffset -= sign * len;\n}\nreturn sign * (val - localMin) * localA + cvsOffset + \n(sign * minPixelPadding);\n}\nfloat xToPixels(float value) {\nif (skipTranslation){\nreturn value;// + xAxisPos;\n}\nreturn translate(value, 0.0, xAxisTrans, xAxisMin, xAxisMinPad, xAxisPointRange, xAxisLen, xAxisCVSCoord, xAxisIsLog, xAxisReversed);// + xAxisPos;\n}\nfloat yToPixels(float value, float checkTreshold) {\nfloat v;\nif (skipTranslation){\nv = value;// + yAxisPos;\n} else {\nv = translate(value, 0.0, yAxisTrans, yAxisMin, yAxisMinPad, yAxisPointRange, yAxisLen, yAxisCVSCoord, yAxisIsLog, yAxisReversed);// + yAxisPos;\nif (v > yAxisLen) {\nv = yAxisLen;\n}\n}\nif (checkTreshold > 0.0 && hasThreshold) {\nv = min(v, translatedThreshold);\n}\nreturn v;\n}\nvoid main(void) {\nif (isBubble){\ngl_PointSize = bubbleRadius();\n} else {\ngl_PointSize = pSize;\n}\nvColor = aColor;\nif (skipTranslation && isInverted) {\ngl_Position = uPMatrix * vec4(aVertexPosition.y + yAxisPos, aVertexPosition.x + xAxisPos, 0.0, 1.0);\n} else if (isInverted) {\ngl_Position = uPMatrix * vec4(yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, xToPixels(aVertexPosition.x) + xAxisPos, 0.0, 1.0);\n} else {\ngl_Position = uPMatrix * vec4(xToPixels(aVertexPosition.x) + xAxisPos, yToPixels(aVertexPosition.y, aVertexPosition.z) + yAxisPos, 0.0, 1.0);\n}\n}",
"vertex"),a=this.stringToProgram("precision highp float;\nuniform vec4 fillColor;\nvarying highp vec2 position;\nvarying highp vec4 vColor;\nuniform sampler2D uSampler;\nuniform bool isCircle;\nuniform bool hasColor;\nvoid main(void) {\nvec4 col = fillColor;\nvec4 tcol = texture2D(uSampler, gl_PointCoord.st);\nif (hasColor) {\ncol = vColor;\n}\nif (isCircle) {\ncol *= tcol;\nif (tcol.r < 0.0) {\ndiscard;\n} else {\ngl_FragColor = col;\n}\n} else {\ngl_FragColor = col;\n}\n}","fragment"),d=c=>this.gl.getUniformLocation(this.shaderProgram,
c);if(!c||!a)return this.shaderProgram=!1,this.handleErrors(),!1;this.shaderProgram=this.gl.createProgram();this.gl.attachShader(this.shaderProgram,c);this.gl.attachShader(this.shaderProgram,a);this.gl.linkProgram(this.shaderProgram);if(!this.gl.getProgramParameter(this.shaderProgram,this.gl.LINK_STATUS))return this.errors.push(this.gl.getProgramInfoLog(this.shaderProgram)),this.handleErrors(),this.shaderProgram=!1;this.gl.useProgram(this.shaderProgram);this.gl.bindAttribLocation(this.shaderProgram,
0,"aVertexPosition");this.pUniform=d("uPMatrix");this.psUniform=d("pSize");this.fcUniform=d("fillColor");this.isBubbleUniform=d("isBubble");this.bubbleSizeAbsUniform=d("bubbleSizeAbs");this.bubbleSizeAreaUniform=d("bubbleSizeByArea");this.uSamplerUniform=d("uSampler");this.skipTranslationUniform=d("skipTranslation");this.isCircleUniform=d("isCircle");this.isInverted=d("isInverted");return!0}handleErrors(){this.errors.length&&g("[highcharts boost] shader error - "+this.errors.join("\n"))}stringToProgram(c,
a){const d=this.gl.createShader("vertex"===a?this.gl.VERTEX_SHADER:this.gl.FRAGMENT_SHADER);this.gl.shaderSource(d,c);this.gl.compileShader(d);return this.gl.getShaderParameter(d,this.gl.COMPILE_STATUS)?d:(this.errors.push("when compiling "+a+" shader:\n"+this.gl.getShaderInfoLog(d)),!1)}destroy(){this.gl&&this.shaderProgram&&(this.gl.deleteProgram(this.shaderProgram),this.shaderProgram=!1)}fillColorUniform(){return this.fcUniform}getProgram(){return this.shaderProgram}pointSizeUniform(){return this.psUniform}perspectiveUniform(){return this.pUniform}reset(){this.gl&&
this.shaderProgram&&(this.gl.uniform1i(this.isBubbleUniform,0),this.gl.uniform1i(this.isCircleUniform,0))}setBubbleUniforms(c,a,g,e=1){const y=c.options;let A=Number.MAX_VALUE,p=-Number.MAX_VALUE;if(this.gl&&this.shaderProgram&&c.is("bubble")){const F=c.getPxExtremes();A=w(y.zMin,d(a,!1===y.displayNegative?y.zThreshold:-Number.MAX_VALUE,A));p=w(y.zMax,Math.max(p,g));this.gl.uniform1i(this.isBubbleUniform,1);this.gl.uniform1i(this.isCircleUniform,1);this.gl.uniform1i(this.bubbleSizeAreaUniform,"width"!==
c.options.sizeBy);this.gl.uniform1i(this.bubbleSizeAbsUniform,c.options.sizeByAbsoluteValue);this.setUniform("bubbleMinSize",F.minPxSize*e);this.setUniform("bubbleMaxSize",F.maxPxSize*e);this.setUniform("bubbleZMin",A);this.setUniform("bubbleZMax",p);this.setUniform("bubbleZThreshold",c.options.zThreshold)}}setColor(c){this.gl&&this.shaderProgram&&this.gl.uniform4f(this.fcUniform,c[0]/255,c[1]/255,c[2]/255,c[3])}setDrawAsCircle(c){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isCircleUniform,
c?1:0)}setInverted(c){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.isInverted,c)}setPMatrix(c){this.gl&&this.shaderProgram&&this.gl.uniformMatrix4fv(this.pUniform,!1,c)}setPointSize(c){this.gl&&this.shaderProgram&&this.gl.uniform1f(this.psUniform,c)}setSkipTranslation(c){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.skipTranslationUniform,!0===c?1:0)}setTexture(c){this.gl&&this.shaderProgram&&this.gl.uniform1i(this.uSamplerUniform,c)}setUniform(c,a){this.gl&&this.shaderProgram&&(c=this.uLocations[c]=
this.uLocations[c]||this.gl.getUniformLocation(this.shaderProgram,c),this.gl.uniform1f(c,a))}}return y});x(a,"Extensions/Boost/WGLVertexBuffer.js",[],function(){class a{constructor(a,g,w){this.buffer=!1;this.iterator=0;this.vertAttribute=this.preAllocated=!1;this.components=w||2;this.dataComponents=w;this.gl=a;this.shader=g}allocate(a){this.iterator=-1;this.preAllocated=new Float32Array(4*a)}bind(){if(!this.buffer)return!1;this.gl.vertexAttribPointer(this.vertAttribute,this.components,this.gl.FLOAT,
!1,0,0)}build(a,g,w){let d;this.data=a||[];if(!(this.data&&0!==this.data.length||this.preAllocated))return this.destroy(),!1;this.components=w||this.components;this.buffer&&this.gl.deleteBuffer(this.buffer);this.preAllocated||(d=new Float32Array(this.data));this.buffer=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.buffer);this.gl.bufferData(this.gl.ARRAY_BUFFER,this.preAllocated||d,this.gl.STATIC_DRAW);this.vertAttribute=this.gl.getAttribLocation(this.shader.getProgram(),g);
this.gl.enableVertexAttribArray(this.vertAttribute);return!0}destroy(){this.buffer&&(this.gl.deleteBuffer(this.buffer),this.vertAttribute=this.buffer=!1);this.iterator=0;this.components=this.dataComponents||2;this.data=[]}push(a,g,w,y){this.preAllocated&&(this.preAllocated[++this.iterator]=a,this.preAllocated[++this.iterator]=g,this.preAllocated[++this.iterator]=w,this.preAllocated[++this.iterator]=y)}render(a,g,w){const d=this.preAllocated?this.preAllocated.length:this.data.length;if(!this.buffer||
!d)return!1;if(!a||a>d||0>a)a=0;if(!g||g>d)g=d;if(a>=g)return!1;this.gl.drawArrays(this.gl[w||"POINTS"],a/this.components,(g-a)/this.components);return!0}}return a});x(a,"Extensions/Boost/WGLRenderer.js",[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Utilities.js"],a["Extensions/Boost/WGLDrawMode.js"],a["Extensions/Boost/WGLShader.js"],a["Extensions/Boost/WGLVertexBuffer.js"]],function(a,d,g,w,y,c){const {parse:A}=a,{doc:F,win:e}=d,{isNumber:x,isObject:ma,merge:p,objectEach:ia,pick:M}=g,B=
{column:!0,columnrange:!0,bar:!0,area:!0,areaspline:!0,arearange:!0},ja={scatter:!0,bubble:!0},J=["webgl","experimental-webgl","moz-webgl","webkit-3d"];class P{static orthoMatrix(b,t){return[2/b,0,0,0,0,-(2/t),0,0,0,0,-2,0,-1,1,-1,1]}static seriesPointCount(b){let t;if(b.boosted){var a=!!b.options.stacking;t=b.xData||b.options.xData||b.processedXData;a=(a?b.data:t||b.options.data).length;"treemap"===b.type?a*=12:"heatmap"===b.type?a*=6:B[b.type]&&(a*=2);return a}return 0}constructor(b){this.data=
[];this.height=0;this.isInited=!1;this.markerData=[];this.series=[];this.textureHandles={};this.width=0;this.postRenderCallback=b;this.settings={pointSize:1,lineWidth:1,fillColor:"#AA00AA",useAlpha:!0,usePreallocated:!1,useGPUTranslations:!1,debug:{timeRendering:!1,timeSeriesProcessing:!1,timeSetup:!1,timeBufferCopy:!1,timeKDTree:!1,showSkipSummary:!1}}}getPixelRatio(){return this.settings.pixelRatio||e.devicePixelRatio||1}setOptions(b){"pixelRatio"in b||(b.pixelRatio=1);p(!0,this.settings,b)}allocateBuffer(b){const t=
this.vbuffer;let a=0;this.settings.usePreallocated&&(b.series.forEach(b=>{b.boosted&&(a+=P.seriesPointCount(b))}),t&&t.allocate(a))}allocateBufferForSingleSeries(b){const t=this.vbuffer;let a=0;this.settings.usePreallocated&&(b.boosted&&(a=P.seriesPointCount(b)),t&&t.allocate(a))}clear(){const b=this.gl;b&&b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)}pushSeriesData(b,a){const c=this.data,t=this.settings,e=this.vbuffer;var d=b.pointArrayMap&&"low,high"===b.pointArrayMap.join(",");const l=b.chart,
r=b.options,f=!!r.stacking,V=r.data;var k=b.xAxis.getExtremes();const g=k.min;k=k.max;var u=b.yAxis.getExtremes();const S=u.min,aa=u.max;var N=b.xData||r.xData||b.processedXData;const w=b.yData||r.yData||b.processedYData,p=b.zData||r.zData||b.processedZData,y=b.yAxis,E=b.xAxis,F=!N||0===N.length;u=r.connectNulls;var v=b.points||!1;const K=f?b.data:N||V;N={x:Number.MAX_VALUE,y:0};const x={x:-Number.MAX_VALUE,y:0},n="undefined"===typeof l.index,m=B[b.type],sa=r.zoneAxis||"y",da=r.zones||!1,na=r.threshold,
ea=this.getPixelRatio();let oa=b.chart.plotWidth,fa=!1,h=!1;let X,ta=0;var L=!1;let D,z,P,G=-1,Y=!1,ba=!1,ka,J=!1,M=!1,C=!1,la=!1,pa=!0,ca=!0,O,I=!1,H=!1,qa=0;if(!(r.boostData&&0<r.boostData.length)){r.gapSize&&(H="value"!==r.gapUnit?r.gapSize*b.closestPointRange:r.gapSize);if(da&&(O=[],da.forEach((a,b)=>{if(a.color){const n=A(a.color).rgba;n[0]/=255;n[1]/=255;n[2]/=255;O[b]=n;I||"undefined"!==typeof a.value||(I=n)}}),!I)){var ha=b.pointAttribs&&b.pointAttribs().fill||b.color;I=A(ha).rgba;I[0]/=255;
I[1]/=255;I[2]/=255}l.inverted&&(oa=b.chart.plotHeight);b.closestPointRangePx=Number.MAX_VALUE;var Q=b=>{b&&(a.colorData.push(b[0]),a.colorData.push(b[1]),a.colorData.push(b[2]),a.colorData.push(b[3]))},R=(b,n,f,m=1,sa)=>{Q(sa);1===ea||t.useGPUTranslations&&!a.skipTranslation||(b*=ea,n*=ea,m*=ea);t.usePreallocated&&e?(e.push(b,n,f?1:0,m),qa+=4):(c.push(b),c.push(n),c.push(f?ea:0),c.push(m))},xa=()=>{a.segments.length&&(a.segments[a.segments.length-1].to=c.length||qa)};ha=()=>{a.segments.length&&a.segments[a.segments.length-
1].from===(c.length||qa)||(xa(),a.segments.push({from:c.length||qa}))};var ya=(b,a,n,f,m)=>{Q(m);R(b+n,a);Q(m);R(b,a);Q(m);R(b,a+f);Q(m);R(b,a+f);Q(m);R(b+n,a+f);Q(m);R(b+n,a)};ha();if(v&&0<v.length)a.skipTranslation=!0,a.drawMode="TRIANGLES",v[0].node&&v[0].node.levelDynamic&&v.sort((b,a)=>{if(b.node){if(b.node.levelDynamic>a.node.levelDynamic)return 1;if(b.node.levelDynamic<a.node.levelDynamic)return-1}return 0}),v.forEach(a=>{var n=a.plotY;if("undefined"!==typeof n&&!isNaN(n)&&null!==a.y&&a.shapeArgs){let {x:f=
0,y:m=0,width:c=0,height:t=0}=a.shapeArgs;n=l.styledMode?a.series.colorAttribs(a):n=a.series.pointAttribs(a);a=n["stroke-width"]||0;C=A(n.fill).rgba;C[0]/=255;C[1]/=255;C[2]/=255;b.is("treemap")&&(a=a||1,X=A(n.stroke).rgba,X[0]/=255,X[1]/=255,X[2]/=255,ya(f,m,c,t,X),a/=2);b.is("heatmap")&&l.inverted&&(f=E.len-f,m=y.len-m,c=-c,t=-t);ya(f+a,m+a,c-2*a,t-2*a,C)}});else{for(;G<K.length-1;){v=K[++G];if("undefined"===typeof v)continue;if(n)break;const c=V&&V[G];!F&&ma(c,!0)&&c.color&&(C=A(c.color).rgba,
C[0]/=255,C[1]/=255,C[2]/=255);F?(D=v[0],z=v[1],K[G+1]&&(ba=K[G+1][0]),K[G-1]&&(Y=K[G-1][0]),3<=v.length&&(P=v[2],v[2]>a.zMax&&(a.zMax=v[2]),v[2]<a.zMin&&(a.zMin=v[2]))):(D=v,z=w[G],K[G+1]&&(ba=K[G+1]),K[G-1]&&(Y=K[G-1]),p&&p.length&&(P=p[G],p[G]>a.zMax&&(a.zMax=p[G]),p[G]<a.zMin&&(a.zMin=p[G])));if(u||null!==D&&null!==z){if(ba&&ba>=g&&ba<=k&&(J=!0),Y&&Y>=g&&Y<=k&&(M=!0),d?(F&&(z=v.slice(1,3)),ka=z[0],z=z[1]):f&&(D=v.x,z=v.stackY,ka=z-v.y),null!==S&&"undefined"!==typeof S&&null!==aa&&"undefined"!==
typeof aa&&(pa=z>=S&&z<=aa),D>k&&x.x<k&&(x.x=D,x.y=z),D<g&&N.x>g&&(N.x=D,N.y=z),null!==z||!u)if(null!==z&&(pa||J||M)){if((ba>=g||D>=g)&&(Y<=k||D<=k)&&(la=!0),la||J||M){H&&D-Y>H&&ha();if(da){let a;da.some((b,n)=>{const f=da[n-1];return"x"===sa?"undefined"!==typeof b.value&&D<=b.value?(O[n]&&(!f||D>=f.value)&&(a=O[n]),!0):!1:"undefined"!==typeof b.value&&z<=b.value?(O[n]&&(!f||z>=f.value)&&(a=O[n]),!0):!1});C=a||I||C}if(!t.useGPUTranslations&&(a.skipTranslation=!0,D=E.toPixels(D,!0),z=y.toPixels(z,
!0),D>oa&&"POINTS"===a.drawMode))continue;a.hasMarkers&&la&&!1!==fa&&(b.closestPointRangePx=Math.min(b.closestPointRangePx,Math.abs(D-fa)));if(!t.useGPUTranslations&&!t.usePreallocated&&fa&&1>Math.abs(D-fa)&&h&&1>Math.abs(z-h))t.debug.showSkipSummary&&++ta;else{if(m){L=ka;if(!1===ka||"undefined"===typeof ka)L=0>z?z:0;d||f||(L=Math.max(null===na?S:na,S));t.useGPUTranslations||(L=y.toPixels(L,!0));R(D,L,0,0,C)}r.step&&!ca&&R(D,h,0,2,C);R(D,z,0,"bubble"===b.type?P||1:2,C);fa=D;h=z;L=!0;ca=!1}}}else ha()}else ha()}t.debug.showSkipSummary&&
console.log("skipped points:",ta);d=(b,n)=>{t.useGPUTranslations||(a.skipTranslation=!0,b.x=E.toPixels(b.x,!0),b.y=y.toPixels(b.y,!0));n?this.data=[b.x,b.y,0,2].concat(this.data):R(b.x,b.y,0,2)};L||!1===u||"line_strip"!==b.drawMode||(N.x<Number.MAX_VALUE&&d(N,!0),x.x>-Number.MAX_VALUE&&d(x))}xa()}}pushSeries(a){var b=this.markerData;const c=this.series,e=this.settings;0<c.length&&c[c.length-1].hasMarkers&&(c[c.length-1].markerTo=b.length);e.debug.timeSeriesProcessing&&console.time("building "+a.type+
" series");b={segments:[],markerFrom:b.length,colorData:[],series:a,zMin:Number.MAX_VALUE,zMax:-Number.MAX_VALUE,hasMarkers:a.options.marker?!1!==a.options.marker.enabled:!1,showMarkers:!0,drawMode:w[a.type]||"LINE_STRIP"};a.index>=c.length?c.push(b):c[a.index]=b;this.pushSeriesData(a,b);e.debug.timeSeriesProcessing&&console.timeEnd("building "+a.type+" series")}flush(){const a=this.vbuffer;this.data=[];this.markerData=[];this.series=[];a&&a.destroy()}setXAxis(a){const b=this.shader;if(b){var c=this.getPixelRatio();
b.setUniform("xAxisTrans",a.transA*c);b.setUniform("xAxisMin",a.min);b.setUniform("xAxisMinPad",a.minPixelPadding*c);b.setUniform("xAxisPointRange",a.pointRange);b.setUniform("xAxisLen",a.len*c);b.setUniform("xAxisPos",a.pos*c);b.setUniform("xAxisCVSCoord",!a.horiz);b.setUniform("xAxisIsLog",!!a.logarithmic);b.setUniform("xAxisReversed",!!a.reversed)}}setYAxis(a){const b=this.shader;if(b){var c=this.getPixelRatio();b.setUniform("yAxisTrans",a.transA*c);b.setUniform("yAxisMin",a.min);b.setUniform("yAxisMinPad",
a.minPixelPadding*c);b.setUniform("yAxisPointRange",a.pointRange);b.setUniform("yAxisLen",a.len*c);b.setUniform("yAxisPos",a.pos*c);b.setUniform("yAxisCVSCoord",!a.horiz);b.setUniform("yAxisIsLog",!!a.logarithmic);b.setUniform("yAxisReversed",!!a.reversed)}}setThreshold(a,c){const b=this.shader;b&&(b.setUniform("hasThreshold",a),b.setUniform("translatedThreshold",c))}renderChart(b){const e=this.gl,g=this.settings,q=this.shader,T=this.vbuffer,Z=this.getPixelRatio();if(b)this.width=b.chartWidth*Z,this.height=
b.chartHeight*Z;else return!1;const l=this.height,r=this.width;if(!(e&&q&&r&&l))return!1;g.debug.timeRendering&&console.time("gl rendering");e.canvas.width=r;e.canvas.height=l;q.bind();e.viewport(0,0,r,l);q.setPMatrix(P.orthoMatrix(r,l));1<g.lineWidth&&!d.isMS&&e.lineWidth(g.lineWidth);T&&(T.build(this.data,"aVertexPosition",4),T.bind());q.setInverted(b.inverted);this.series.forEach((f,d)=>{const k=f.series.options;var l=k.marker,r="undefined"!==typeof k.lineWidth?k.lineWidth:1,t=k.threshold;const V=
x(t),p=f.series.yAxis.getThreshold(t);t=M(k.marker?k.marker.enabled:null,f.series.xAxis.isRadial?!0:null,f.series.closestPointRangePx>2*((k.marker?k.marker.radius:10)||10));l=this.textureHandles[l&&l.symbol||f.series.symbol]||this.textureHandles.circle;if(0!==f.segments.length&&f.segments[0].from!==f.segments[0].to&&(l.isReady&&(e.bindTexture(e.TEXTURE_2D,l.handle),q.setTexture(l.handle)),b.styledMode?l=f.series.markerGroup&&f.series.markerGroup.getStyle("fill"):(l="POINTS"===f.drawMode&&f.series.pointAttribs&&
f.series.pointAttribs().fill||f.series.color,k.colorByPoint&&(l=f.series.chart.options.colors[d])),f.series.fillOpacity&&k.fillOpacity&&(l=(new a(l)).setOpacity(M(k.fillOpacity,1)).get()),l=A(l).rgba,g.useAlpha||(l[3]=1),"LINES"===f.drawMode&&g.useAlpha&&1>l[3]&&(l[3]/=10),"add"===k.boostBlending?(e.blendFunc(e.SRC_ALPHA,e.ONE),e.blendEquation(e.FUNC_ADD)):"mult"===k.boostBlending||"multiply"===k.boostBlending?e.blendFunc(e.DST_COLOR,e.ZERO):"darken"===k.boostBlending?(e.blendFunc(e.ONE,e.ONE),e.blendEquation(e.FUNC_MIN)):
e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA),q.reset(),0<f.colorData.length?(q.setUniform("hasColor",1),d=new c(e,q),d.build(Array(f.segments[0].from).concat(f.colorData),"aColor",4),d.bind()):(q.setUniform("hasColor",0),e.disableVertexAttribArray(e.getAttribLocation(q.getProgram(),"aColor"))),q.setColor(l),this.setXAxis(f.series.xAxis),this.setYAxis(f.series.yAxis),this.setThreshold(V,p),"POINTS"===f.drawMode&&q.setPointSize(2*M(k.marker&&k.marker.radius,.5)*
Z),q.setSkipTranslation(f.skipTranslation),"bubble"===f.series.type&&q.setBubbleUniforms(f.series,f.zMin,f.zMax,Z),q.setDrawAsCircle(ja[f.series.type]||!1),T)){if(0<r||"LINE_STRIP"!==f.drawMode)for(r=0;r<f.segments.length;r++)T.render(f.segments[r].from,f.segments[r].to,f.drawMode);if(f.hasMarkers&&t)for(q.setPointSize(2*M(k.marker&&k.marker.radius,5)*Z),q.setDrawAsCircle(!0),r=0;r<f.segments.length;r++)T.render(f.segments[r].from,f.segments[r].to,"POINTS")}});g.debug.timeRendering&&console.timeEnd("gl rendering");
this.postRenderCallback&&this.postRenderCallback(this);this.flush()}render(a){this.clear();if(a.renderer.forExport)return this.renderChart(a);this.isInited?this.renderChart(a):setTimeout(()=>{this.render(a)},1)}setSize(a,c){const b=this.shader;!b||this.width===a&&this.height===c||(this.width=a,this.height=c,b.bind(),b.setPMatrix(P.orthoMatrix(a,c)))}init(a,e){const b=this.settings;this.isInited=!1;if(!a)return!1;b.debug.timeSetup&&console.time("gl setup");for(let b=0;b<J.length&&!(this.gl=a.getContext(J[b],
{}));++b);const d=this.gl;if(d)e||this.flush();else return!1;d.enable(d.BLEND);d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA);d.disable(d.DEPTH_TEST);d.depthFunc(d.LESS);a=this.shader=new y(d);if(!a)return!1;this.vbuffer=new c(d,a);a=(a,b)=>{const c={isReady:!1,texture:F.createElement("canvas"),handle:d.createTexture()},e=c.texture.getContext("2d");this.textureHandles[a]=c;c.texture.width=512;c.texture.height=512;e.mozImageSmoothingEnabled=!1;e.webkitImageSmoothingEnabled=!1;e.msImageSmoothingEnabled=
!1;e.imageSmoothingEnabled=!1;e.strokeStyle="rgba(255, 255, 255, 0)";e.fillStyle="#FFF";b(e);try{d.activeTexture(d.TEXTURE0),d.bindTexture(d.TEXTURE_2D,c.handle),d.texImage2D(d.TEXTURE_2D,0,d.RGBA,d.RGBA,d.UNSIGNED_BYTE,c.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.CLAMP_TO_EDGE),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.bindTexture(d.TEXTURE_2D,
null),c.isReady=!0}catch(f){}};a("circle",a=>{a.beginPath();a.arc(256,256,256,0,2*Math.PI);a.stroke();a.fill()});a("square",a=>{a.fillRect(0,0,512,512)});a("diamond",a=>{a.beginPath();a.moveTo(256,0);a.lineTo(512,256);a.lineTo(256,512);a.lineTo(0,256);a.lineTo(256,0);a.fill()});a("triangle",a=>{a.beginPath();a.moveTo(0,512);a.lineTo(256,0);a.lineTo(512,512);a.lineTo(0,512);a.fill()});a("triangle-down",a=>{a.beginPath();a.moveTo(0,0);a.lineTo(256,512);a.lineTo(512,0);a.lineTo(0,0);a.fill()});this.isInited=
!0;b.debug.timeSetup&&console.timeEnd("gl setup");return!0}destroy(){const a=this.gl,c=this.shader,e=this.vbuffer;this.flush();e&&e.destroy();c&&c.destroy();a&&(ia(this.textureHandles,b=>{b.handle&&a.deleteTexture(b.handle)}),a.canvas.width=1,a.canvas.height=1)}}return P});x(a,"Extensions/Boost/BoostSeries.js",[a["Extensions/Boost/BoostableMap.js"],a["Extensions/Boost/Boostables.js"],a["Extensions/Boost/BoostChart.js"],a["Core/Defaults.js"],a["Core/Globals.js"],a["Core/Utilities.js"],a["Extensions/Boost/WGLRenderer.js"]],
function(a,d,g,w,y,c,x){function F(a,b){const n=b.boost;a&&n&&n.target&&n.canvas&&!f(b.chart)&&a.allocateBufferForSingleSeries(b)}function e(a){return E(a&&a.options&&a.options.boost&&a.options.boost.enabled,!0)}function A(a,b){const c=a.constructor,n=a.seriesGroup||b.group;let e=a.chartWidth,d=a.chartHeight,m=a,l="undefined"!==typeof SVGForeignObjectElement;m=f(a)?a:b;const h=m.boost=m.boost||{};l=!1;ra||(ra=k.createElement("canvas"));h.target||(h.canvas=ra,a.renderer.forExport||!l?(m.renderTarget=
h.target=a.renderer.image("",0,0,e,d).addClass("highcharts-boost-canvas").add(n),h.clear=function(){h.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="})},h.copy=function(){h.resize();h.target.attr({href:h.canvas.toDataURL("image/png")})}):(h.targetFo=a.renderer.createElement("foreignObject").add(n),m.renderTarget=h.target=k.createElement("canvas"),h.targetCtx=h.target.getContext("2d"),h.targetFo.element.appendChild(h.target),
h.clear=function(){h.target.width=h.canvas.width;h.target.height=h.canvas.height},h.copy=function(){h.target.width=h.canvas.width;h.target.height=h.canvas.height;h.targetCtx.drawImage(h.canvas,0,0)}),h.resize=function(){e=a.chartWidth;d=a.chartHeight;(h.targetFo||h.target).attr({x:0,y:0,width:e,height:d}).css({pointerEvents:"none",mixedBlendMode:"normal",opacity:1});m instanceof c&&m.boost.markerGroup.translate(a.plotLeft,a.plotTop)},h.clipRect=a.renderer.clipRect(),(h.targetFo||h.target).clip(h.clipRect),
m instanceof c&&(m.boost.markerGroup=m.renderer.g().add(n).translate(b.xAxis.pos,b.yAxis.pos)));h.canvas.width=e;h.canvas.height=d;h.clipRect&&h.clipRect.attr(r(a,m));h.resize();h.clear();h.wgl||(h.wgl=new x(a=>{a.settings.debug.timeBufferCopy&&console.time("buffer copy");h.copy();a.settings.debug.timeBufferCopy&&console.timeEnd("buffer copy")}),h.wgl.init(h.canvas)||aa("[highcharts boost] - unable to init WebGL renderer"),h.wgl.setOptions(a.options.boost||{}),m instanceof c&&h.wgl.allocateBuffer(a));
h.wgl.setSize(e,d);return h.wgl}function ma(a){const b=a.points;if(b){let a,c;for(c=0;c<b.length;c+=1)(a=b[c])&&a.destroyElements&&a.destroyElements()}["graph","area","tracker"].forEach(b=>{const c=a[b];c&&(a[b]=c.destroy())});a.getZonesGraphs&&a.getZonesGraphs([["graph","highcharts-graph"]]).forEach(b=>{const c=a[b[0]];c&&(a[b[0]]=c.destroy())})}function p(a,b,c,e,d,f){d=d||0;e=e||3E3;const n=d+e;let m=!0;for(;m&&d<n&&d<a.length;)m=b(a[d],d),++d;m&&(d<a.length?f?p(a,b,c,e,d,f):u.requestAnimationFrame?
u.requestAnimationFrame(function(){p(a,b,c,e,d)}):setTimeout(p,0,a,b,c,e,d):c&&c())}function ia(a){a.boost=a.boost||{getPoint:c=>b(a,c)};const c=a.boost.altered=[];["allowDG","directTouch","stickyTracking"].forEach(b=>{c.push({prop:b,val:a[b],own:Object.hasOwnProperty.call(a,b)})});a.allowDG=!1;a.directTouch=!1;a.stickyTracking=!0;a.finishedAnimating=!0;a.labelBySeries&&(a.labelBySeries=a.labelBySeries.destroy())}function M(a){const b=a.boost;b&&((b.altered||[]).forEach(b=>{b.own?a[b.prop]=b.val:
delete a[b.prop]}),b.clear&&b.clear())}function B(a,b){const c=a.options,e=a.xAxis&&a.xAxis.options,d=a.yAxis&&a.yAxis.options;a=a.colorAxis&&a.colorAxis.options;return c.data.length>(c.boostThreshold||Number.MAX_VALUE)&&W(d.min)&&W(d.max)&&(!b||W(e.min)&&W(e.max))&&(!a||W(a.min)&&W(a.max))}function ja(){const a=this,b=a.chart;b.boost&&b.boost.markerGroup===a.markerGroup&&(a.markerGroup=null);b.hoverPoints&&(b.hoverPoints=b.hoverPoints.filter(function(b){return b.series===a}));b.hoverPoint&&b.hoverPoint.series===
a&&(b.hoverPoint=null)}function J(){const a=this.boost;a&&a.canvas&&a.target&&(a.wgl&&a.wgl.clear(),a.clear&&a.clear())}function P(a){const b=a.boost;b&&b.canvas&&b.target&&b.wgl&&!f(a.chart)&&b.wgl.render(a.chart)}function b(a,b){var c=a.options;const e=a.xAxis;var d=a.pointClass;if(b instanceof d)return b;c=a.xData||c.xData||a.processedXData||!1;d=(new d).init(a,a.options.data[b.i],c?c[b.i]:void 0);d.category=E(e.categories?e.categories[d.x]:d.x,d.x);d.dist=b.dist;d.distX=b.distX;d.plotX=b.plotX;
d.plotY=b.plotY;d.index=b.i;d.percentage=b.percentage;d.isInside=a.isPointInside(d);return d}function t(){function a(a,b){const f="undefined"===typeof c.index;let l;let h,n=!1,r=!0;if("undefined"===typeof a)return!0;if(!f){if(q){l=a[0];var m=a[1]}else l=a,m=k[b];aa?(q&&(m=a.slice(1,3)),n=m[0],m=m[1]):x&&(l=a.x,m=a.stackY,n=m-a.y,h=a.percentage);N||(r=(m||0)>=V&&m<=Z);if(l>=g&&l<=u&&r)if(a=d.toPixels(l,!0),v){if("undefined"===typeof H||a===S){aa||(n=m);if("undefined"===typeof J||m>I)I=m,J=b;if("undefined"===
typeof H||n<O)O=n,H=b}C&&a===S||("undefined"!==typeof H&&(m=e.toPixels(I,!0),B=e.toPixels(O,!0),Q(a,m,J,h),B!==m&&Q(a,B,H,h)),H=J=void 0,S=a)}else m=Math.ceil(e.toPixels(m,!0)),Q(a,m,b,h)}return!f}var b=this.options||{};const c=this.chart,d=this.xAxis,e=this.yAxis,l=b.xData||this.processedXData,k=b.yData||this.processedYData,r=b.data;var h=d.getExtremes();const g=h.min,u=h.max;h=e.getExtremes();const V=h.min,Z=h.max,t={},v=!!this.sampling,w=b.enableMouseTracking;h=b.threshold;const aa=this.pointArrayMap&&
"low,high"===this.pointArrayMap.join(","),x=!!b.stacking,y=this.cropStart||0,N=this.requireSorting,q=!l,C="x"===b.findNearestPointBy,E=this.xData||this.options.xData||this.processedXData||!1;b=!1;let S,B=e.getThreshold(h),O,I,H,J;b=A(c,this);c.boosted=!0;if(this.visible){(this.points||this.graph)&&ma(this);f(c)?(this.markerGroup&&this.markerGroup!==c.boost.markerGroup&&this.markerGroup.destroy(),this.markerGroup=c.boost.markerGroup,this.boost&&this.boost.target&&(this.renderTarget=this.boost.target=
this.boost.target.destroy())):(c.boost&&this.markerGroup===c.boost.markerGroup&&(this.markerGroup=void 0),this.markerGroup=this.plotGroup("markerGroup","markers",!0,1,c.seriesGroup));var M=this.points=[],Q=(a,b,f,l)=>{const m=E?E[y+f]:!1,n=a=>{c.inverted&&(a=d.len-a,b=e.len-b);M.push({destroy:va,x:m,clientX:a,plotX:a,plotY:b,i:y+f,percentage:l})};a=Math.ceil(a);K=C?a:a+","+b;w&&(t[K]?m===E[E.length-1]&&(M.length--,n(a)):(t[K]=!0,n(a)))};this.buildKDTree=va;b&&(F(b,this),b.pushSeries(this),P(this));
var R=b.settings;b=()=>{za(this,"renderedCanvas");delete this.buildKDTree;this.buildKDTree();R.debug.timeKDTree&&console.timeEnd("kd tree building")};c.renderer.forExport||(R.debug.timeKDTree&&console.time("kd tree building"),p(x?this.data:l||r,a,b))}}function ua(a){let b=!0;this.chart.options&&this.chart.options.boost&&(b="undefined"===typeof this.chart.options.boost.enabled?!0:this.chart.options.boost.enabled);if(!b||!this.boosted)return a.call(this);this.chart.boosted=!0;if(a=A(this.chart,this))F(a,
this),a.pushSeries(this);P(this)}function q(b,c,d){function f(b){const c=this.options.stacking&&("translate"===d||"generatePoints"===d);this.boosted&&!c&&e(this.chart)&&"heatmap"!==this.type&&"treemap"!==this.type&&a[this.type]&&0!==this.options.boostThreshold?"render"===d&&this.renderCanvas&&this.renderCanvas():b.call(this)}U(b,d,f);"translate"===d&&["column","arearange","columnrange","heatmap","treemap"].forEach(function(a){c[a]&&U(c[a].prototype,d,f)})}function T(a){return this.boosted&&B(this)?
{}:a.apply(this,[].slice.call(arguments,1))}function Z(b){var c=this.options.data;const d=a=>this.forceCrop?!1:f(this.chart)||(a?a.length:0)>=(this.options.boostThreshold||Number.MAX_VALUE);e(this.chart)&&a[this.type]?(d(c)&&"heatmap"!==this.type&&"treemap"!==this.type&&!this.options.stacking&&B(this,!0)||(b.apply(this,[].slice.call(arguments,1)),c=this.processedXData),(this.boosted=d(c))?(this.options.data&&this.options.data.length&&(c=this.getFirstValidPoint(this.options.data),W(c)||Aa(c)||aa(12,
!1,this.chart)),ia(this)):M(this)):b.apply(this,[].slice.call(arguments,1))}function l(a){const b=a.apply(this,[].slice.call(arguments,1));return this.boost&&b?this.boost.getPoint(b):b}const {getBoostClipRect:r,isChartSeriesBoosting:f}=g,{getOptions:V}=w,{doc:k,noop:va,win:u}=y,{addEvent:S,error:aa,extend:N,fireEvent:za,isArray:Aa,isNumber:W,pick:E,wrap:U}=c,v=[];let K,ra;return{compose:function(a,b,e){if(c.pushUnique(v,a)){S(a,"destroy",ja);S(a,"hide",J);const c=a.prototype;e&&(c.renderCanvas=t);
U(c,"getExtremes",T);U(c,"processData",Z);U(c,"searchPoint",l);["translate","generatePoints","drawTracker","drawPoints","render"].forEach(a=>q(c,b,a))}if(c.pushUnique(v,V)){const a=V().plotOptions;d.forEach(c=>{const d=a[c];d&&(d.boostThreshold=5E3,d.boostData=[],b[c].prototype.fillOpacity=!0)})}if(e){const {area:a,areaspline:d,bubble:f,column:l,heatmap:k,scatter:h,treemap:r}=b;a&&c.pushUnique(v,a)&&N(a.prototype,{fill:!0,fillOpacity:!0,sampling:!0});d&&c.pushUnique(v,d)&&N(d.prototype,{fill:!0,fillOpacity:!0,
sampling:!0});f&&c.pushUnique(v,f)&&(e=f.prototype,delete e.buildKDTree,U(e,"markerAttribs",function(a){return this.boosted?!1:a.apply(this,[].slice.call(arguments,1))}));l&&c.pushUnique(v,l)&&N(l.prototype,{fill:!0,sampling:!0});h&&c.pushUnique(v,h)&&(h.prototype.fill=!0);[k,r].forEach(a=>{a&&c.pushUnique(v,a)&&U(a.prototype,"drawPoints",ua)})}return a},destroyGraphics:ma,eachAsync:p,getPoint:b}});x(a,"Extensions/BoostCanvas.js",[a["Extensions/Boost/BoostChart.js"],a["Extensions/Boost/BoostSeries.js"],
a["Core/Chart/Chart.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,d,g,x,y,c,A,F){const {getBoostClipRect:e,isChartSeriesBoosting:w}=a,{destroyGraphics:ma}=d,{parse:p}=x,{doc:ia,noop:M}=y,{seriesTypes:B}=A,{addEvent:ja,extend:J,fireEvent:P,isNumber:b,merge:t,pick:ua,wrap:q}=F;let T;return function(){y.seriesTypes.heatmap&&q(y.seriesTypes.heatmap.prototype,"drawPoints",function(){const a=this.chart,
b=this.getContext(),c=this.chart.inverted,d=this.xAxis,e=this.yAxis;b?(this.points.forEach(function(f){let l=f.plotY;if("undefined"!==typeof l&&!isNaN(l)&&null!==f.y&&b){const {x:l=0,y:r=0,width:k=0,height:g=0}=f.shapeArgs||{};f=a.styledMode?f.series.colorAttribs(f):f.series.pointAttribs(f);b.fillStyle=f.fill;c?b.fillRect(e.len-r+d.left,d.len-l+e.top,-g,-k):b.fillRect(l+d.left,r+e.top,k,g)}}),this.canvasToSVG()):this.chart.showLoading("Your browser doesn't support HTML5 canvas, <br>please use a modern browser")});
J(c.prototype,{getContext:function(){function a(a,b,c,d,e,f,l){a.call(this,c,b,d,e,f,l)}const b=this.chart,c=w(b)?b:this,d=c===b?b.seriesGroup:b.seriesGroup||this.group;let g=b.chartWidth,k=b.chartHeight,t;const u=c.boost=c.boost||{};t=u.targetCtx;u.canvas||(u.canvas=ia.createElement("canvas"),u.target=b.renderer.image("",0,0,g,k).addClass("highcharts-boost-canvas").add(d),t=u.targetCtx=u.canvas.getContext("2d"),b.inverted&&["moveTo","lineTo","rect","arc"].forEach(b=>{q(t,b,a)}),u.copy=function(){u.target.attr({href:u.canvas.toDataURL("image/png")})},
u.clear=function(){t.clearRect(0,0,u.canvas.width,u.canvas.height);c===u.target&&u.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="})},u.clipRect=b.renderer.clipRect(),u.target.clip(u.clipRect));u.canvas.width!==g&&(u.canvas.width=g);u.canvas.height!==k&&(u.canvas.height=k);u.target.attr({x:0,y:0,width:g,height:k,style:"pointer-events: none",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="});
u.clipRect&&u.clipRect.attr(e(b,c));return t},canvasToSVG:function(){w(this.chart)?this.boost&&this.boost.clear&&this.boost.clear():this.boost&&this.boost.copy?this.boost.copy():this.chart.boost&&this.chart.boost.copy&&this.chart.boost.copy()},cvsLineTo:function(a,b,c){a.lineTo(b,c)},renderCanvas:function(){function a(a,b,c){I=ha?a:a+","+b;X&&!n[I]&&(n[I]=!0,k.inverted&&(a=w.len-a,b=u.len-b),da.push({x:Q?Q[ba+c]:!1,clientX:a,plotX:a,plotY:b,i:ba+c}))}function c(a,b,c,d){0===A&&(q.beginPath(),oa&&
(q.lineJoin="round"));k.scroller&&"highcharts-navigator-series"===f.options.className?(b+=k.scroller.top,c&&(c+=k.scroller.top)):b+=k.plotTop;a+=k.plotLeft;wa?q.moveTo(a,b):ea?ea(q,a,b,c,ta):oa?oa(q,a,b):fa&&fa.call(f,q,a,b,na,d);A+=1;A===h&&(e(),A=0);ta={clientX:a,plotY:b,yBottom:c}}function e(){Ba?(q.fillStyle=qa,q.fill()):(q.strokeStyle=f.color,q.lineWidth=g.lineWidth,q.stroke())}let f=this,g=f.options,k=f.chart,w=this.xAxis,u=this.yAxis;var y=(k.options.boost||{}).timeRendering||!1;let q,A=0;
var B=f.processedXData;let ia=f.processedYData,W=g.data;var E=w.getExtremes();let U=E.min,v=E.max;E=u.getExtremes();let K=E.min,ra=E.max,n={},m,sa=!!f.sampling,da,na=g.marker&&g.marker.radius,ea=this.cvsDrawPoint,oa=g.lineWidth?this.cvsLineTo:void 0,fa=na&&1>=na?this.cvsMarkerSquare:this.cvsMarkerCircle,h=this.cvsStrokeBatch||1E3,X=g.enableMouseTracking,ta;E=g.threshold;let L=u.getThreshold(E),D=b(E),z=L,Ba=this.fill,G=f.pointArrayMap&&"low,high"===f.pointArrayMap.join(","),Y=!!g.stacking,ba=f.cropStart||
0;E=k.options.loading;let ka=f.requireSorting,wa,Ca=g.connectNulls,C=!B,la,pa,ca,O,I,H=Y?f.data:B||W,qa=f.fillOpacity?x.parse(f.color).setOpacity(ua(g.fillOpacity,.75)).get():f.color,ha="x"===g.findNearestPointBy,Q=this.xData||this.options.xData||this.processedXData||!1;B=this.boost||{};B.target&&B.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="});(this.points||this.graph)&&ma(this);f.plotGroup("group","series",
f.visible?"visible":"hidden",g.zIndex,k.seriesGroup);f.markerGroup=f.group;ja(f,"destroy",function(){f.markerGroup=null});da=this.points=[];q=this.getContext();f.buildKDTree=M;B.clear&&B.clear();this.visible&&(99999<W.length&&(k.options.loading=t(E,{labelStyle:{backgroundColor:p("#ffffff").setOpacity(.75).get(),padding:"1em",borderRadius:"0.5em"},style:{backgroundColor:"none",opacity:1}}),F.clearTimeout(T),k.showLoading("Drawing..."),k.options.loading=E),y&&console.time("canvas rendering"),d.eachAsync(H,
function(b,d){let e,g=!1,l=!1,h=!1,r=!1,n="undefined"===typeof k.index,t=!0;if(!n){if(C){var q=b[0];var p=b[1];H[d+1]&&(h=H[d+1][0]);H[d-1]&&(r=H[d-1][0])}else q=b,p=ia[d],H[d+1]&&(h=H[d+1]),H[d-1]&&(r=H[d-1]);h&&h>=U&&h<=v&&(g=!0);r&&r>=U&&r<=v&&(l=!0);G?(C&&(p=b.slice(1,3)),e=p[0],p=p[1]):Y&&(q=b.x,p=b.stackY,e=p-b.y);b=null===p;ka||(t=p>=K&&p<=ra);if(!b&&(q>=U&&q<=v&&t||g||l))if(q=Math.round(w.toPixels(q,!0)),sa){if("undefined"===typeof ca||q===m){G||(e=p);if("undefined"===typeof O||p>pa)pa=p,
O=d;if("undefined"===typeof ca||e<la)la=e,ca=d}q!==m&&("undefined"!==typeof ca&&(p=u.toPixels(pa,!0),L=u.toPixels(la,!0),c(q,D?Math.min(p,z):p,D?Math.max(L,z):L,d),a(q,p,O),L!==p&&a(q,L,ca)),ca=O=void 0,m=q)}else p=Math.round(u.toPixels(p,!0)),c(q,p,L,d),a(q,p,d);wa=b&&!Ca;0===d%5E4&&(f.boost&&f.boost.copy?f.boost.copy():f.chart.boost&&f.chart.boost.copy&&f.chart.boost.copy())}return!n},function(){const a=k.loadingDiv,b=k.loadingShown;e();f.canvasToSVG();y&&console.timeEnd("canvas rendering");P(f,
"renderedCanvas");b&&(J(a.style,{transition:"opacity 250ms",opacity:0}),k.loadingShown=!1,T=setTimeout(function(){a.parentNode&&a.parentNode.removeChild(a);k.loadingDiv=k.loadingSpan=null},250));delete f.buildKDTree;f.buildKDTree()},k.renderer.forExport?Number.MAX_VALUE:void 0))}});B.scatter.prototype.cvsMarkerCircle=function(a,b,c,d){a.moveTo(b,c);a.arc(b,c,d,0,2*Math.PI,!1)};B.scatter.prototype.cvsMarkerSquare=function(a,b,c,d){a.rect(b-d,c-d,2*d,2*d)};B.scatter.prototype.fill=!0;B.bubble&&(B.bubble.prototype.cvsMarkerCircle=
function(a,b,c,d,e){a.moveTo(b,c);a.arc(b,c,this.radii&&this.radii[e],0,2*Math.PI,!1)},B.bubble.prototype.cvsStrokeBatch=1);J(B.area.prototype,{cvsDrawPoint:function(a,b,c,d,e){e&&b!==e.clientX&&(a.moveTo(e.clientX,e.yBottom),a.lineTo(e.clientX,e.plotY),a.lineTo(b,c),a.lineTo(b,d))},fill:!0,fillOpacity:!0,sampling:!0});J(B.column.prototype,{cvsDrawPoint:function(a,b,c,d){a.rect(b-1,c,1,d-c)},fill:!0,sampling:!0});g.prototype.callbacks.push(function(a){ja(a,"predraw",function(){const a=this.boost||
{};a.target&&a.target.attr({href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="});a.canvas&&a.canvas.getContext("2d").clearRect(0,0,a.canvas.width,a.canvas.height)});ja(a,"render",function(){a.boost&&a.boost.copy&&a.boost.copy()})})}});x(a,"masters/modules/boost-canvas.src.js",[],function(){})});//# sourceMappingURL=boost-canvas.js.map