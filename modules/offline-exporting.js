/*
 Highcharts JS v11.1.0 (2023-08-20)

 Client side exporting module

 (c) 2015-2021 Torstein Honsi / Oystein Moseng

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(b){a(b);a.Highcharts=b;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function b(a,u,c,b){a.hasOwnProperty(u)||(a[u]=b.apply(null,c),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:u,
module:a[u]}})))}a=a?a._modules:{};b(a,"Extensions/DownloadURL.js",[a["Core/Globals.js"]],function(a){const {isSafari:u}=a,c=a.win,b=c.document,m=c.URL||c.webkitURL||c,r=a.dataURLtoBlob=function(a){if((a=a.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<a.length&&c.atob&&c.ArrayBuffer&&c.Uint8Array&&c.Blob&&m.createObjectURL){const b=c.atob(a[3]);var n=new c.ArrayBuffer(b.length);n=new c.Uint8Array(n);for(let a=0;a<n.length;++a)n[a]=b.charCodeAt(a);a=new c.Blob([n],
{type:a[1]});return m.createObjectURL(a)}};a=a.downloadURL=function(a,m){var p=c.navigator;const q=b.createElement("a");if("string"===typeof a||a instanceof String||!p.msSaveOrOpenBlob){a=`${a}`;p=/Edge\/\d+/.test(p.userAgent);if(u&&"string"===typeof a&&0===a.indexOf("data:application/pdf")||p||2E6<a.length)if(a=r(a)||"",!a)throw Error("Failed to convert to blob");if("undefined"!==typeof q.download)q.href=a,q.download=m,b.body.appendChild(q),q.click(),b.body.removeChild(q);else try{const b=c.open(a,
"chart");if("undefined"===typeof b||null===b)throw Error("Failed to open window");}catch(R){c.location.href=a}}else p.msSaveOrOpenBlob(a,m)};return{dataURLtoBlob:r,downloadURL:a}});b(a,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],function(){return{libURL:"https://code.highcharts.com/11.1.0/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},
downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}});b(a,"Extensions/OfflineExporting/OfflineExporting.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Chart/Chart.js"],a["Core/Defaults.js"],a["Extensions/DownloadURL.js"],a["Extensions/Exporting/Exporting.js"],a["Core/Globals.js"],a["Core/HttpUtilities.js"],a["Extensions/OfflineExporting/OfflineExportingDefaults.js"],
a["Core/Utilities.js"]],function(a,b,c,J,B,r,n,K,p){const {defaultOptions:u}=c,{downloadURL:m}=J,{win:h,doc:z}=r,{ajax:L}=n,{addEvent:M,error:A,extend:N,fireEvent:O,merge:G}=p;a.allowedAttributes.push("data-z-index","fill-opacity","rx","ry","stroke-dasharray","stroke-linejoin","text-anchor","transform","version","viewBox","visibility","xmlns","xmlns:xlink");a.allowedTags.push("desc","clippath","g");const P=[];var y;(function(b){function c(a,g){function d(){return[].some.call(v.container.getElementsByTagName("image"),
function(a){a=a.getAttribute("href");return""!==a&&"string"===typeof a&&0!==a.indexOf("data:")})}function f(a){!1===e.fallbackToExportServer?e.error?e.error(e,a):A(28,!0):v.exportChart(e)}const v=this,e=G(v.options.exporting,a);r.isMS&&v.styledMode&&!B.inlineAllowlist.length&&B.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,
/^rx$/,/^ry$/,/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/);r.isMS&&("application/pdf"===e.type||v.container.getElementsByTagName("image").length&&"image/svg+xml"!==e.type)||"application/pdf"===e.type&&d()?f(Error("Image type not supported for this chart/browser.")):v.getSVGForLocalExport(e,g||{},f,function(a){-1<a.indexOf("<foreignObject")&&"image/svg+xml"!==e.type&&(r.isMS||"application/pdf"===e.type)?f(Error("Image type not supported for charts with embedded HTML")):
b.downloadSVGLocal(a,N({filename:v.getFilename()},e),f,()=>O(v,"exportChartLocalSuccess"))})}function n(a,g){const b=z.getElementsByTagName("head")[0],f=z.createElement("script");f.type="text/javascript";f.src=a;f.onload=g;f.onerror=function(){A("Error loading script "+a)};b.appendChild(f)}function q(a,g,c,f){const d=this,e=(a,g,b)=>{++m;b.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",a);k&&m===w&&f(d.sanitizeSVG(h.innerHTML,l))};let t,h,l,H=null,k,w=0,m=0;d.unbindGetSVG=M(d,"getSVG",
a=>{l=a.chartCopy.options;k=(h=a.chartCopy.container.cloneNode(!0))&&h.getElementsByTagName("image")||[];w=k.length});d.getSVGForExport(a,g);try{if(!k||!k.length){f(d.sanitizeSVG(h.innerHTML,l));return}for(g=0;g<k.length;g++)t=k[g],(H=t.getAttributeNS("http://www.w3.org/1999/xlink","href"))?b.imageToDataUrl(H,"image/png",{imageElement:t},a.scale,e,c,c,c):(m++,t.parentNode.removeChild(t),g--,k&&m===w&&f(d.sanitizeSVG(h.innerHTML,l)))}catch(x){c(x)}d.unbindGetSVG()}function y(a,g,c,f,m,e,t,u,l){let d=
new h.Image,k;const v=()=>{setTimeout(function(){const b=z.createElement("canvas"),e=b.getContext&&b.getContext("2d");let h;try{if(e){b.height=d.height*f;b.width=d.width*f;e.drawImage(d,0,0,b.width,b.height);try{h=b.toDataURL(g),m(h,g,c,f)}catch(D){k(a,g,c,f)}}else t(a,g,c,f)}finally{l&&l(a,g,c,f)}},b.loadEventDeferDelay)},n=()=>{u(a,g,c,f);l&&l(a,g,c,f)};k=()=>{d=new h.Image;k=e;d.crossOrigin="Anonymous";d.onload=v;d.onerror=n;d.src=a};d.onload=v;d.onerror=n;d.src=a}function E(a){var d=h.navigator.userAgent;
d=-1<d.indexOf("WebKit")&&0>d.indexOf("Chrome");try{if(!d&&-1===a.indexOf("<foreignObject"))return b.domurl.createObjectURL(new h.Blob([a],{type:"image/svg+xml;charset-utf-16"}))}catch(k){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(a)}function I(a,b,c){const d=Number(a.getAttribute("width"))+2*b;b=Number(a.getAttribute("height"))+2*b;const g=new h.jspdf.jsPDF(b>d?"p":"l","pt",[d,b]);[].forEach.call(a.querySelectorAll('*[visibility="hidden"]'),function(a){a.parentNode.removeChild(a)});
const e=a.querySelectorAll("linearGradient");for(let a=0;a<e.length;a++){const b=e[a].querySelectorAll("stop");let d=0;for(;d<b.length&&"0"===b[d].getAttribute("offset")&&"0"===b[d+1].getAttribute("offset");)b[d].remove(),d++}[].forEach.call(a.querySelectorAll("tspan"),a=>{"\u200b"===a.textContent&&(a.textContent=" ",a.setAttribute("dx",-5))});g.svg(a,{x:0,y:0,width:d,height:b,removeInvalid:!0}).then(()=>c(g.output("datauristring")))}b.CanVGRenderer={};b.domurl=h.URL||h.webkitURL||h;b.loadEventDeferDelay=
r.isMS?150:0;b.compose=function(a){if(p.pushUnique(P,a)){const b=a.prototype;b.getSVGForLocalExport=q;b.exportChartLocal=c;G(!0,u.exporting,K)}return a};b.downloadSVGLocal=function(d,c,k,f){const g=z.createElement("div"),e=c.type||"image/png",t=(c.filename||"chart")+"."+("image/svg+xml"===e?"svg":e.split("/")[1]),p=c.scale||1;let l,q,r,w=c.libURL||u.exporting.libURL,C=!0,x=c.pdfFont;w="/"!==w.slice(-1)?w+"/":w;const B=(a,b)=>{const d=(a,b)=>{h.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(a,
b);this.addFont(a,"HighchartsFont",a);this.getFontList().HighchartsFont||this.setFont("HighchartsFont")}])};x&&!/[^\u0000-\u007F\u200B]+/.test(a.textContent||"")&&(x=void 0);const c=["normal","italic","bold","bolditalic"];let f;const e=()=>{const a=c.shift();if(!a)return b();const g=x&&x[a];g?L({url:g,responseType:"blob",success:(b,c)=>{b=new FileReader;b.onloadend=function(){if("string"===typeof this.result){const b=this.result.split(",")[1];d(a,b);"normal"===a&&(f=b)}e()};b.readAsDataURL(c.response)},
error:e}):(f&&d(a,f),e())};e()},A=()=>{a.setElementHTML(g,d);const b=g.getElementsByTagName("text");let c,e;[].forEach.call(b,function(a){["fontFamily","fontSize"].forEach(b=>{for(var c=a;c&&c!==g;){if(c.style[b]){c=c.style[b];"fontSize"===b&&/em$/.test(c)&&(c=Math.round(16*parseFloat(c))+"px");a.style[b]=c;break}c=c.parentNode}});a.style.fontFamily=x&&x.normal?"HighchartsFont":String(a.style.fontFamily&&a.style.fontFamily.split(" ").splice(-1));c=a.getElementsByTagName("title");[].forEach.call(c,
function(b){a.removeChild(b)});for(e=a.getElementsByClassName("highcharts-text-outline");0<e.length;)a.removeChild(e[0])});const h=g.querySelector("svg");h&&B(h,()=>{I(h,0,a=>{try{m(a,t),f&&f()}catch(F){k(F)}})})};if("image/svg+xml"===e)try{"undefined"!==typeof h.MSBlobBuilder?(q=new h.MSBlobBuilder,q.append(d),l=q.getBlob("image/svg+xml")):l=E(d),m(l,t),f&&f()}catch(D){k(D)}else"application/pdf"===e?h.jspdf&&h.jspdf.jsPDF?A():(C=!0,n(w+"jspdf.js",function(){n(w+"svg2pdf.js",A)})):(l=E(d),r=function(){try{b.domurl.revokeObjectURL(l)}catch(D){}},
y(l,e,{},p,function(a){try{m(a,t),f&&f()}catch(Q){k(Q)}},function(){function a(){h.canvg.Canvg.fromString(c,d).start();try{m(h.navigator.msSaveOrOpenBlob?b.msToBlob():b.toDataURL(e),t),f&&f()}catch(F){k(F)}finally{r()}}const b=z.createElement("canvas"),c=b.getContext("2d"),g=d.match(/^<svg[^>]*width\s*=\s*"?(\d+)"?[^>]*>/)[1]*p,l=d.match(/^<svg[^>]*height\s*=\s*"?(\d+)"?[^>]*>/)[1]*p;b.width=g;b.height=l;h.canvg?a():(C=!0,n(w+"canvg.js",function(){a()}))},k,k,function(){C&&r()}))};b.getScript=n;b.imageToDataUrl=
y;b.svgToDataUrl=E;b.svgToPdf=I})(y||(y={}));return y});b(a,"masters/modules/offline-exporting.src.js",[a["Core/Globals.js"],a["Extensions/OfflineExporting/OfflineExporting.js"]],function(a,b){a.downloadSVGLocal=b.downloadSVGLocal;b.compose(a.Chart)})});//# sourceMappingURL=offline-exporting.js.map