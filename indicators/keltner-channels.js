/*
 Highstock JS v11.1.0 (2023-08-20)

 Indicator series type for Highcharts Stock

 (c) 2010-2021 Daniel Studencki

 License: www.highcharts.com/license
*/
'use strict';var c=c||{};c.scope={};c.arrayIteratorImpl=function(a){var d=0;return function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}}};c.arrayIterator=function(a){return{next:c.arrayIteratorImpl(a)}};c.ASSUME_ES5=!1;c.ASSUME_NO_NATIVE_MAP=!1;c.ASSUME_NO_NATIVE_SET=!1;c.SIMPLE_FROUND_POLYFILL=!1;c.ISOLATE_POLYFILLS=!1;
c.defineProperty=c.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,e){if(a==Array.prototype||a==Object.prototype)return a;a[d]=e.value;return a};c.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var d=0;d<a.length;++d){var e=a[d];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");};c.global=c.getGlobal(this);
c.SYMBOL_PREFIX="jscomp_symbol_";c.initSymbol=function(){c.initSymbol=function(){};c.global.Symbol||(c.global.Symbol=c.Symbol)};c.SymbolClass=function(a,d){this.$jscomp$symbol$id_=a;c.defineProperty(this,"description",{configurable:!0,writable:!0,value:d})};c.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
c.Symbol=function(){function a(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new c.SymbolClass(c.SYMBOL_PREFIX+(e||"")+"_"+d++,e)}var d=0;return a}();
c.initSymbolIterator=function(){c.initSymbol();var a=c.global.Symbol.iterator;a||(a=c.global.Symbol.iterator=c.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&c.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return c.iteratorPrototype(c.arrayIteratorImpl(this))}});c.initSymbolIterator=function(){}};
c.initSymbolAsyncIterator=function(){c.initSymbol();var a=c.global.Symbol.asyncIterator;a||(a=c.global.Symbol.asyncIterator=c.global.Symbol("Symbol.asyncIterator"));c.initSymbolAsyncIterator=function(){}};c.iteratorPrototype=function(a){c.initSymbolIterator();a={next:a};a[c.global.Symbol.iterator]=function(){return this};return a};
c.iteratorFromArray=function(a,d){c.initSymbolIterator();a instanceof String&&(a+="");var e=0,b={next:function(){if(e<a.length){var f=e++;return{value:d(f,a[f]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};c.polyfills={};c.propertyToPolyfillSymbol={};c.POLYFILL_PREFIX="$jscp$";c.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
c.polyfill=function(a,d,e,b){d&&(c.ISOLATE_POLYFILLS?c.polyfillIsolated(a,d,e,b):c.polyfillUnisolated(a,d,e,b))};c.polyfillUnisolated=function(a,d){var e=c.global;a=a.split(".");for(var b=0;b<a.length-1;b++){var f=a[b];f in e||(e[f]={});e=e[f]}a=a[a.length-1];b=e[a];d=d(b);d!=b&&null!=d&&c.defineProperty(e,a,{configurable:!0,writable:!0,value:d})};
c.polyfillIsolated=function(a,d,e){var b=a.split(".");a=1===b.length;var f=b[0];f=!a&&f in c.polyfills?c.polyfills:c.global;for(var g=0;g<b.length-1;g++){var p=b[g];p in f||(f[p]={});f=f[p]}b=b[b.length-1];e=c.IS_SYMBOL_NATIVE&&"es6"===e?f[b]:null;d=d(e);null!=d&&(a?c.defineProperty(c.polyfills,b,{configurable:!0,writable:!0,value:d}):d!==e&&(c.propertyToPolyfillSymbol[b]=c.IS_SYMBOL_NATIVE?c.global.Symbol(b):c.POLYFILL_PREFIX+b,b=c.propertyToPolyfillSymbol[b],c.defineProperty(f,b,{configurable:!0,
writable:!0,value:d})))};c.polyfill("Array.prototype.values",function(a){return a?a:function(){return c.iteratorFromArray(this,function(a,e){return e})}},"es8","es3");
(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/indicators/keltner-channels",["highcharts","highcharts/modules/stock"],function(d){a(d);a.Highcharts=d;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function d(a,b,d,g){a.hasOwnProperty(b)||(a[b]=g.apply(null,d),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:b,
module:a[b]}})))}a=a?a._modules:{};d(a,"Stock/Indicators/MultipleLinesComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,b){const {sma:{prototype:d}}=a.seriesTypes,{defined:e,error:p,merge:w}=b;var l;(function(a){function f(a){return"plot"+a.charAt(0).toUpperCase()+a.slice(1)}function y(a,d){const t=[];(a.pointArrayMap||[]).forEach(a=>{a!==d&&t.push(f(a))});return t}function g(){const a=this,b=a.linesApiNames;var h=a.areaLinesNames;const n=a.points,g=a.options,
l=a.graph,m={options:{gapSize:g.gapSize}},k=[];var r=y(a,a.pointValKey);let q=n.length,v;r.forEach((a,d)=>{for(k[d]=[];q--;)v=n[q],k[d].push({x:v.x,plotX:v.plotX,plotY:v[a],isNull:!e(v[a])});q=n.length});if(a.userOptions.fillColor&&h.length){var x=r.indexOf(f(h[0]));x=k[x];h=1===h.length?n:k[r.indexOf(f(h[1]))];r=a.color;a.points=h;a.nextPoints=x;a.color=a.userOptions.fillColor;a.options=w(n,m);a.graph=a.area;a.fillGraph=!0;d.drawGraph.call(a);a.area=a.graph;delete a.nextPoints;delete a.fillGraph;
a.color=r}b.forEach((b,e)=>{k[e]?(a.points=k[e],g[b]?a.options=w(g[b].styles,m):p('Error: "There is no '+b+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),a.graph=a["graph"+b],d.drawGraph.call(a),a["graph"+b]=a.graph):p('Error: "'+b+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")});a.points=n;a.options=g;a.graph=l;d.drawGraph.call(a)}function l(a){var b;let e=[];a=a||this.points;if(this.fillGraph&&
this.nextPoints){if((b=d.getGraphPath.call(this,this.nextPoints))&&b.length){b[0][0]="L";e=d.getGraphPath.call(this,a);b=b.slice(0,e.length);for(let a=b.length-1;0<=a;a--)e.push(b[a])}}else e=d.getGraphPath.apply(this,arguments);return e}function m(a){const b=[];(this.pointArrayMap||[]).forEach(d=>{b.push(a[d])});return b}function k(){const a=this.pointArrayMap;let b=[],e;b=y(this);d.translate.apply(this,arguments);this.points.forEach(d=>{a.forEach((a,f)=>{e=d[a];this.dataModify&&(e=this.dataModify.modifyValue(e));
null!==e&&(d[b[f]]=this.yAxis.toPixels(e,!0))})})}const z=[],A=["bottomLine"],B=["top","bottom"],q=["top"];a.compose=function(a){if(b.pushUnique(z,a)){const b=a.prototype;b.linesApiNames=b.linesApiNames||A.slice();b.pointArrayMap=b.pointArrayMap||B.slice();b.pointValKey=b.pointValKey||"top";b.areaLinesNames=b.areaLinesNames||q.slice();b.drawGraph=g;b.getGraphPath=l;b.toYData=m;b.translate=k}return a}})(l||(l={}));return l});d(a,"Stock/Indicators/KeltnerChannels/KeltnerChannelsIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,b,d){const {sma:e}=b.seriesTypes,{correctFloat:f,extend:w,merge:l}=d;class m extends e{constructor(){super(...arguments);this.points=this.options=this.data=void 0}init(){b.seriesTypes.sma.prototype.init.apply(this,arguments);this.options=l({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)}getValues(a,d){const e=d.period,g=d.periodATR,l=d.multiplierATR;var k=a.yData;k=k?k.length:0;
const m=[];d=b.seriesTypes.ema.prototype.getValues(a,{period:e,index:d.index});a=b.seriesTypes.atr.prototype.getValues(a,{period:g});const p=[],r=[];let q;let t,u;if(!(k<e)){for(u=e;u<=k;u++){var h=d.values[u-e];var n=a.values[u-g];t=h[0];q=f(h[1]+l*n[1]);n=f(h[1]-l*n[1]);h=h[1];m.push([t,q,h,n]);p.push(t);r.push([q,h,n])}return{values:m,xData:p,yData:r}}}}m.defaultOptions=l(e.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},bottomLine:{styles:{lineWidth:1,lineColor:void 0}},
topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1});w(m.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period","periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],
pointArrayMap:["top","middle","bottom"],pointValKey:"middle"});a.compose(m);b.registerSeriesType("keltnerchannels",m);"";return m});d(a,"masters/indicators/keltner-channels.src.js",[],function(){})});//# sourceMappingURL=keltner-channels.js.map