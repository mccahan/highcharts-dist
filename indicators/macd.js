/*
 Highstock JS v11.1.0 (2023-08-20)

 Indicator series type for Highcharts Stock

 (c) 2010-2021 Sebastian Bochan

 License: www.highcharts.com/license
*/
'use strict';var c=c||{};c.scope={};c.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};c.arrayIterator=function(a){return{next:c.arrayIteratorImpl(a)}};c.ASSUME_ES5=!1;c.ASSUME_NO_NATIVE_MAP=!1;c.ASSUME_NO_NATIVE_SET=!1;c.SIMPLE_FROUND_POLYFILL=!1;c.ISOLATE_POLYFILLS=!1;
c.defineProperty=c.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){if(a==Array.prototype||a==Object.prototype)return a;a[b]=e.value;return a};c.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");};c.global=c.getGlobal(this);
c.SYMBOL_PREFIX="jscomp_symbol_";c.initSymbol=function(){c.initSymbol=function(){};c.global.Symbol||(c.global.Symbol=c.Symbol)};c.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;c.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};c.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
c.Symbol=function(){function a(e){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new c.SymbolClass(c.SYMBOL_PREFIX+(e||"")+"_"+b++,e)}var b=0;return a}();
c.initSymbolIterator=function(){c.initSymbol();var a=c.global.Symbol.iterator;a||(a=c.global.Symbol.iterator=c.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&c.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return c.iteratorPrototype(c.arrayIteratorImpl(this))}});c.initSymbolIterator=function(){}};
c.initSymbolAsyncIterator=function(){c.initSymbol();var a=c.global.Symbol.asyncIterator;a||(a=c.global.Symbol.asyncIterator=c.global.Symbol("Symbol.asyncIterator"));c.initSymbolAsyncIterator=function(){}};c.iteratorPrototype=function(a){c.initSymbolIterator();a={next:a};a[c.global.Symbol.iterator]=function(){return this};return a};
c.iteratorFromArray=function(a,b){c.initSymbolIterator();a instanceof String&&(a+="");var e=0,d={next:function(){if(e<a.length){var f=e++;return{value:b(f,a[f]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};c.polyfills={};c.propertyToPolyfillSymbol={};c.POLYFILL_PREFIX="$jscp$";c.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
c.polyfill=function(a,b,e,d){b&&(c.ISOLATE_POLYFILLS?c.polyfillIsolated(a,b,e,d):c.polyfillUnisolated(a,b,e,d))};c.polyfillUnisolated=function(a,b){var e=c.global;a=a.split(".");for(var d=0;d<a.length-1;d++){var f=a[d];f in e||(e[f]={});e=e[f]}a=a[a.length-1];d=e[a];b=b(d);b!=d&&null!=b&&c.defineProperty(e,a,{configurable:!0,writable:!0,value:b})};
c.polyfillIsolated=function(a,b,e){var d=a.split(".");a=1===d.length;var f=d[0];f=!a&&f in c.polyfills?c.polyfills:c.global;for(var h=0;h<d.length-1;h++){var q=d[h];q in f||(f[q]={});f=f[q]}d=d[d.length-1];e=c.IS_SYMBOL_NATIVE&&"es6"===e?f[d]:null;b=b(e);null!=b&&(a?c.defineProperty(c.polyfills,d,{configurable:!0,writable:!0,value:b}):b!==e&&(c.propertyToPolyfillSymbol[d]=c.IS_SYMBOL_NATIVE?c.global.Symbol(d):c.POLYFILL_PREFIX+d,d=c.propertyToPolyfillSymbol[d],c.defineProperty(f,d,{configurable:!0,
writable:!0,value:b})))};c.polyfill("Array.prototype.values",function(a){return a?a:function(){return c.iteratorFromArray(this,function(a,e){return e})}},"es8","es3");
(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/indicators/macd",["highcharts","highcharts/modules/stock"],function(b){a(b);a.Highcharts=b;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function b(a,d,b,h){a.hasOwnProperty(d)||(a[d]=h.apply(null,b),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:d,module:a[d]}})))}
a=a?a._modules:{};b(a,"Stock/Indicators/MACD/MACDIndicator.js",[a["Core/Globals.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,d,b){const {noop:e}=a,{sma:f}=d.seriesTypes,{extend:u,correctFloat:r,defined:m,merge:t}=b;class p extends f{constructor(){super(...arguments);this.signalZones=this.points=this.options=this.macdZones=this.data=void 0}init(){d.seriesTypes.sma.prototype.init.apply(this,arguments);const a=this.color;this.options&&(m(this.colorIndex)&&(this.options.signalLine&&
this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.signalLine.styles.lineColor=this.color),this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.macdLine.styles.lineColor=this.color)),this.macdZones={zones:this.options.macdLine.zones,
startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0);this.color=a}toYData(a){return[a.y,a.signal,a.MACD]}translate(){const k=this,d=["plotSignal","plotMACD"];a.seriesTypes.column.prototype.translate.apply(k);k.points.forEach(function(a){[a.signal,a.MACD].forEach(function(b,e){null!==b&&(a[d[e]]=k.yAxis.toPixels(b,!0))})})}destroy(){this.graph=null;this.graphmacd=this.graphmacd&&this.graphmacd.destroy();
this.graphsignal=this.graphsignal&&this.graphsignal.destroy();d.seriesTypes.sma.prototype.destroy.apply(this,arguments)}drawGraph(){const a=this,b=a.points,e=a.options,f=a.zones,h={options:{gapSize:e.gapSize}},l=[[],[]];let g,n=b.length;for(;n--;)g=b[n],m(g.plotMACD)&&l[0].push({plotX:g.plotX,plotY:g.plotMACD,isNull:!m(g.plotMACD)}),m(g.plotSignal)&&l[1].push({plotX:g.plotX,plotY:g.plotSignal,isNull:!m(g.plotMACD)});["macd","signal"].forEach(function(b,k){a.points=l[k];a.options=t(e[b+"Line"].styles,
h);a.graph=a["graph"+b];a.currentLineZone=b+"Zones";a.zones=a[a.currentLineZone].zones;d.seriesTypes.sma.prototype.drawGraph.call(a);a["graph"+b]=a.graph});a.points=b;a.options=e;a.zones=f;a.currentLineZone=void 0}getZonesGraphs(a){const b=super.getZonesGraphs(a);let d=b;this.currentLineZone&&(d=b.splice(this[this.currentLineZone].startIndex+1),d.length?d.splice(0,0,a[0]):d=[a[0]]);return d}applyZones(){const a=this.zones;this.zones=this.signalZones.zones;d.seriesTypes.sma.prototype.applyZones.call(this);
this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide();this.zones=a}getValues(a,b){const e=b.longPeriod-b.shortPeriod,f=[],h=[],l=[];let g,n,k=0;if(!(a.xData.length<b.longPeriod+b.signalPeriod)){g=d.seriesTypes.ema.prototype.getValues(a,{period:b.shortPeriod,index:b.index});n=d.seriesTypes.ema.prototype.getValues(a,{period:b.longPeriod,index:b.index});g=g.values;n=n.values;for(a=0;a<=g.length;a++)m(n[a])&&m(n[a][1])&&m(g[a+e])&&m(g[a+e][0])&&f.push([g[a+e][0],0,null,g[a+e][1]-n[a][1]]);
for(a=0;a<f.length;a++)h.push(f[a][0]),l.push([0,null,f[a][3]]);b=d.seriesTypes.ema.prototype.getValues({xData:h,yData:l},{period:b.signalPeriod,index:2});b=b.values;for(a=0;a<f.length;a++)f[a][0]>=b[0][0]&&(f[a][2]=b[k][1],l[a]=[0,b[k][1],f[a][3]],null===f[a][3]?(f[a][1]=0,l[a][0]=0):(f[a][1]=r(f[a][3]-b[k][1]),l[a][0]=r(f[a][3]-b[k][1])),k++);return{values:f,xData:h,yData:l}}}}p.defaultOptions=t(f.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],
styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},dataGrouping:{approximation:"averages"},minPointLength:0});u(p.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y",
"signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:e,getColumnMetrics:a.seriesTypes.column.prototype.getColumnMetrics,crispCol:a.seriesTypes.column.prototype.crispCol,drawPoints:a.seriesTypes.column.prototype.drawPoints});d.registerSeriesType("macd",p);"";return p});b(a,"masters/indicators/macd.src.js",[],function(){})});//# sourceMappingURL=macd.js.map