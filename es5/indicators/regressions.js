/*
 Highstock JS v11.1.0 (2023-08-20)

 Indicator series type for Highcharts Stock

 (c) 2010-2021 Kamil Kulig

 License: www.highcharts.com/license
*/
'use strict';(function(e){"object"===typeof module&&module.exports?(e["default"]=e,module.exports=e):"function"===typeof define&&define.amd?define("highcharts/indicators/regressions",["highcharts","highcharts/modules/stock"],function(h){e(h);e.Highcharts=h;return e}):e("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(e){function h(e,c,g,f){e.hasOwnProperty(c)||(e[c]=f.apply(null,g),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,
module:e[c]}})))}e=e?e._modules:{};h(e,"Stock/Indicators/LinearRegression/LinearRegressionIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,c){var g=this&&this.__extends||function(){function b(a,d){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(a[b]=d[b])};return b(a,d)}return function(a,d){function m(){this.constructor=a}if("function"!==typeof d&&null!==
d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");b(a,d);a.prototype=null===d?Object.create(d):(m.prototype=d.prototype,new m)}}(),f=e.seriesTypes.sma,h=c.isArray,k=c.extend,l=c.merge;c=function(b){function a(){var a=null!==b&&b.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}g(a,b);a.prototype.getRegressionLineParameters=function(a,b){function d(a,d){return h(a)?a[d]:a}var m=this.options.params.index,c=a.reduce(function(a,
d){return d+a},0),e=b.reduce(function(a,b){return d(b,m)+a},0);c/=a.length;e/=b.length;var l,f=0,k=0;for(l=0;l<a.length;l++){var g=a[l]-c;var n=d(b[l],m)-e;f+=g*n;k+=Math.pow(g,2)}a=k?f/k:0;return{slope:a,intercept:e-a*c}};a.prototype.getEndPointY=function(a,b){return a.slope*b+a.intercept};a.prototype.transformXData=function(a,b){var d=a[0];return a.map(function(a){return(a-d)/b})};a.prototype.findClosestDistance=function(a){var b,d;for(d=1;d<a.length-1;d++){var c=a[d]-a[d-1];0<c&&("undefined"===
typeof b||c<b)&&(b=c)}return b};a.prototype.getValues=function(a,b){var d=a.xData;a=a.yData;b=b.period;var c={xData:[],yData:[],values:[]},e=this.options.params.xAxisUnit||this.findClosestDistance(d),l;for(l=b-1;l<=d.length-1;l++){var m=l-b+1;var f=l+1;var k=d[l];var g=d.slice(m,f);m=a.slice(m,f);f=this.transformXData(g,e);g=this.getRegressionLineParameters(f,m);m=this.getEndPointY(g,f[f.length-1]);c.values.push({regressionLineParameters:g,x:k,y:m});c.xData.push(k);c.yData.push(m)}return c};a.defaultOptions=
l(f.defaultOptions,{params:{xAxisUnit:null},tooltip:{valueDecimals:4}});return a}(f);k(c.prototype,{nameBase:"Linear Regression Indicator"});e.registerSeriesType("linearRegression",c);"";return c});h(e,"Stock/Indicators/LinearRegressionSlopes/LinearRegressionSlopesIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,c){var g=this&&this.__extends||function(){function c(b,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,
b){for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])};return c(b,a)}return function(b,a){function d(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");c(b,a);b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}}(),f=e.seriesTypes.linearRegression,k=c.extend,h=c.merge;c=function(c){function b(){var a=null!==c&&c.apply(this,arguments)||this;a.data=void 0;a.options=void 0;
a.points=void 0;return a}g(b,c);b.prototype.getEndPointY=function(a){return a.slope};b.defaultOptions=h(f.defaultOptions);return b}(f);k(c.prototype,{nameBase:"Linear Regression Slope Indicator"});e.registerSeriesType("linearRegressionSlope",c);"";return c});h(e,"Stock/Indicators/LinearRegressionIntercept/LinearRegressionInterceptIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,c){var g=this&&this.__extends||function(){function c(b,a){c=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return c(b,a)}return function(b,a){function d(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");c(b,a);b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}}(),f=e.seriesTypes.linearRegression,k=c.extend,h=c.merge;c=function(c){function b(){var a=null!==c&&c.apply(this,
arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}g(b,c);b.prototype.getEndPointY=function(a){return a.intercept};b.defaultOptions=h(f.defaultOptions);return b}(f);k(c.prototype,{nameBase:"Linear Regression Intercept Indicator"});e.registerSeriesType("linearRegressionIntercept",c);"";return c});h(e,"Stock/Indicators/LinearRegressionAngle/LinearRegressionAngleIndicator.js",[e["Core/Series/SeriesRegistry.js"],e["Core/Utilities.js"]],function(e,c){var g=this&&this.__extends||function(){function c(b,
a){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])};return c(b,a)}return function(b,a){function d(){this.constructor=b}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");c(b,a);b.prototype=null===a?Object.create(a):(d.prototype=a.prototype,new d)}}(),f=e.seriesTypes.linearRegression,h=c.extend,k=c.merge;c=function(c){function b(){var a=
null!==c&&c.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}g(b,c);b.prototype.slopeToAngle=function(a){return 180/Math.PI*Math.atan(a)};b.prototype.getEndPointY=function(a){return this.slopeToAngle(a.slope)};b.defaultOptions=k(f.defaultOptions,{tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span>{series.name}: <b>{point.y}\u00b0</b><br/>'}});return b}(f);h(c.prototype,{nameBase:"Linear Regression Angle Indicator"});e.registerSeriesType("linearRegressionAngle",
c);"";return c});h(e,"masters/indicators/regressions.src.js",[],function(){})});//# sourceMappingURL=regressions.js.map