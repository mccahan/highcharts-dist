/*
 Highstock JS v11.1.0 (2023-08-20)

 Indicator series type for Highcharts Stock

 (c) 2010-2021 Daniel Studencki

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/indicators/keltner-channels",["highcharts","highcharts/modules/stock"],function(h){a(h);a.Highcharts=h;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function h(a,f,c,h){a.hasOwnProperty(f)||(a[f]=h.apply(null,c),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:f,
module:a[f]}})))}a=a?a._modules:{};h(a,"Stock/Indicators/MultipleLinesComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,f){var c=a.seriesTypes.sma.prototype,h=f.defined,n=f.error,u=f.merge,k;(function(a){function t(b){return"plot"+b.charAt(0).toUpperCase()+b.slice(1)}function x(b,e){var g=[];(b.pointArrayMap||[]).forEach(function(b){b!==e&&g.push(t(b))});return g}function d(){var b=this,e=b.linesApiNames,g=b.areaLinesNames,a=b.points,d=b.options,f=b.graph,q={options:{gapSize:d.gapSize}},
l=[],r=x(b,b.pointValKey),k=a.length,m;r.forEach(function(b,e){for(l[e]=[];k--;)m=a[k],l[e].push({x:m.x,plotX:m.plotX,plotY:m[b],isNull:!h(m[b])});k=a.length});if(b.userOptions.fillColor&&g.length){var p=r.indexOf(t(g[0]));p=l[p];g=1===g.length?a:l[r.indexOf(t(g[1]))];r=b.color;b.points=g;b.nextPoints=p;b.color=b.userOptions.fillColor;b.options=u(a,q);b.graph=b.area;b.fillGraph=!0;c.drawGraph.call(b);b.area=b.graph;delete b.nextPoints;delete b.fillGraph;b.color=r}e.forEach(function(e,a){l[a]?(b.points=
l[a],d[e]?b.options=u(d[e].styles,q):n('Error: "There is no '+e+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names."'),b.graph=b["graph"+e],c.drawGraph.call(b),b["graph"+e]=b.graph):n('Error: "'+e+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")});b.points=a;b.options=d;b.graph=f;c.drawGraph.call(b)}function q(b){var e,a=[];b=b||this.points;if(this.fillGraph&&this.nextPoints){if((e=c.getGraphPath.call(this,
this.nextPoints))&&e.length){e[0][0]="L";a=c.getGraphPath.call(this,b);e=e.slice(0,a.length);for(var d=e.length-1;0<=d;d--)a.push(e[d])}}else a=c.getGraphPath.apply(this,arguments);return a}function l(b){var e=[];(this.pointArrayMap||[]).forEach(function(a){e.push(b[a])});return e}function r(){var b=this,a=this.pointArrayMap,d=[],l;d=x(this);c.translate.apply(this,arguments);this.points.forEach(function(e){a.forEach(function(a,c){l=e[a];b.dataModify&&(l=b.dataModify.modifyValue(l));null!==l&&(e[d[c]]=
b.yAxis.toPixels(l,!0))})})}var k=[],m=["bottomLine"],p=["top","bottom"],y=["top"];a.compose=function(b){if(f.pushUnique(k,b)){var a=b.prototype;a.linesApiNames=a.linesApiNames||m.slice();a.pointArrayMap=a.pointArrayMap||p.slice();a.pointValKey=a.pointValKey||"top";a.areaLinesNames=a.areaLinesNames||y.slice();a.drawGraph=d;a.getGraphPath=q;a.toYData=l;a.translate=r}return b}})(k||(k={}));return k});h(a,"Stock/Indicators/KeltnerChannels/KeltnerChannelsIndicator.js",[a["Stock/Indicators/MultipleLinesComposition.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,f,c){var h=this&&this.__extends||function(){function a(c,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])};return a(c,d)}return function(c,d){function f(){this.constructor=c}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");a(c,d);c.prototype=
null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),n=f.seriesTypes.sma,u=c.correctFloat,k=c.extend,w=c.merge;c=function(a){function c(){var d=null!==a&&a.apply(this,arguments)||this;d.data=void 0;d.options=void 0;d.points=void 0;return d}h(c,a);c.prototype.init=function(){f.seriesTypes.sma.prototype.init.apply(this,arguments);this.options=w({topLine:{styles:{lineColor:this.color}},bottomLine:{styles:{lineColor:this.color}}},this.options)};c.prototype.getValues=function(a,c){var d=c.period,
h=c.periodATR,k=c.multiplierATR,m=a.yData;m=m?m.length:0;var p=[];c=f.seriesTypes.ema.prototype.getValues(a,{period:d,index:c.index});a=f.seriesTypes.atr.prototype.getValues(a,{period:h});var n=[],b=[],e;if(!(m<d)){for(e=d;e<=m;e++){var g=c.values[e-d];var v=a.values[e-h];var q=g[0];var t=u(g[1]+k*v[1]);v=u(g[1]-k*v[1]);g=g[1];p.push([q,t,g,v]);n.push(q);b.push([t,g,v])}return{values:p,xData:n,yData:b}}};c.defaultOptions=w(n.defaultOptions,{params:{index:0,period:20,periodATR:10,multiplierATR:2},
bottomLine:{styles:{lineWidth:1,lineColor:void 0}},topLine:{styles:{lineWidth:1,lineColor:void 0}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>Upper Channel: {point.top}<br/>EMA({series.options.params.period}): {point.middle}<br/>Lower Channel: {point.bottom}<br/>'},marker:{enabled:!1},dataGrouping:{approximation:"averages"},lineWidth:1});return c}(n);k(c.prototype,{nameBase:"Keltner Channels",areaLinesNames:["top","bottom"],nameComponents:["period",
"periodATR","multiplierATR"],linesApiNames:["topLine","bottomLine"],pointArrayMap:["top","middle","bottom"],pointValKey:"middle"});a.compose(c);f.registerSeriesType("keltnerchannels",c);"";return c});h(a,"masters/indicators/keltner-channels.src.js",[],function(){})});//# sourceMappingURL=keltner-channels.js.map