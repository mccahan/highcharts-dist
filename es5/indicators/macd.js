/*
 Highstock JS v11.1.0 (2023-08-20)

 Indicator series type for Highcharts Stock

 (c) 2010-2021 Sebastian Bochan

 License: www.highcharts.com/license
*/
'use strict';(function(b){"object"===typeof module&&module.exports?(b["default"]=b,module.exports=b):"function"===typeof define&&define.amd?define("highcharts/indicators/macd",["highcharts","highcharts/modules/stock"],function(g){b(g);b.Highcharts=g;return b}):b("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(b){function g(b,k,d,g){b.hasOwnProperty(k)||(b[k]=g.apply(null,d),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:k,
module:b[k]}})))}b=b?b._modules:{};g(b,"Stock/Indicators/MACD/MACDIndicator.js",[b["Core/Globals.js"],b["Core/Series/SeriesRegistry.js"],b["Core/Utilities.js"]],function(b,k,d){var g=this&&this.__extends||function(){function b(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(a[f]=b[f])};return b(c,a)}return function(c,a){function f(){this.constructor=c}if("function"!==typeof a&&null!==
a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(f.prototype=a.prototype,new f)}}(),t=b.noop,p=k.seriesTypes.sma,u=d.extend,q=d.correctFloat,m=d.defined,r=d.merge;d=function(d){function c(){var a=null!==d&&d.apply(this,arguments)||this;a.data=void 0;a.macdZones=void 0;a.options=void 0;a.points=void 0;a.signalZones=void 0;return a}g(c,d);c.prototype.init=function(){k.seriesTypes.sma.prototype.init.apply(this,arguments);
var a=this.color;this.options&&(m(this.colorIndex)&&(this.options.signalLine&&this.options.signalLine.styles&&!this.options.signalLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.signalLine.styles.lineColor=this.color),this.options.macdLine&&this.options.macdLine.styles&&!this.options.macdLine.styles.lineColor&&(this.options.colorIndex=this.colorIndex+1,this.getCyclic("color",void 0,this.chart.options.colors),this.options.macdLine.styles.lineColor=
this.color)),this.macdZones={zones:this.options.macdLine.zones,startIndex:0},this.signalZones={zones:this.macdZones.zones.concat(this.options.signalLine.zones),startIndex:this.macdZones.zones.length},this.resetZones=!0);this.color=a};c.prototype.toYData=function(a){return[a.y,a.signal,a.MACD]};c.prototype.translate=function(){var a=this,f=["plotSignal","plotMACD"];b.seriesTypes.column.prototype.translate.apply(a);a.points.forEach(function(b){[b.signal,b.MACD].forEach(function(e,c){null!==e&&(b[f[c]]=
a.yAxis.toPixels(e,!0))})})};c.prototype.destroy=function(){this.graph=null;this.graphmacd=this.graphmacd&&this.graphmacd.destroy();this.graphsignal=this.graphsignal&&this.graphsignal.destroy();k.seriesTypes.sma.prototype.destroy.apply(this,arguments)};c.prototype.drawGraph=function(){for(var a=this,b=a.points,c=a.options,e=a.zones,d={options:{gapSize:c.gapSize}},n=[[],[]],h,l=b.length;l--;)h=b[l],m(h.plotMACD)&&n[0].push({plotX:h.plotX,plotY:h.plotMACD,isNull:!m(h.plotMACD)}),m(h.plotSignal)&&n[1].push({plotX:h.plotX,
plotY:h.plotSignal,isNull:!m(h.plotMACD)});["macd","signal"].forEach(function(b,f){a.points=n[f];a.options=r(c[b+"Line"].styles,d);a.graph=a["graph"+b];a.currentLineZone=b+"Zones";a.zones=a[a.currentLineZone].zones;k.seriesTypes.sma.prototype.drawGraph.call(a);a["graph"+b]=a.graph});a.points=b;a.options=c;a.zones=e;a.currentLineZone=void 0};c.prototype.getZonesGraphs=function(a){var b=d.prototype.getZonesGraphs.call(this,a),c=b;this.currentLineZone&&(c=b.splice(this[this.currentLineZone].startIndex+
1),c.length?c.splice(0,0,a[0]):c=[a[0]]);return c};c.prototype.applyZones=function(){var a=this.zones;this.zones=this.signalZones.zones;k.seriesTypes.sma.prototype.applyZones.call(this);this.graphmacd&&this.options.macdLine.zones.length&&this.graphmacd.hide();this.zones=a};c.prototype.getValues=function(a,b){var c=b.longPeriod-b.shortPeriod,e=[],d=[],f=[],h=0;if(!(a.xData.length<b.longPeriod+b.signalPeriod)){var l=k.seriesTypes.ema.prototype.getValues(a,{period:b.shortPeriod,index:b.index});var g=
k.seriesTypes.ema.prototype.getValues(a,{period:b.longPeriod,index:b.index});l=l.values;g=g.values;for(a=0;a<=l.length;a++)m(g[a])&&m(g[a][1])&&m(l[a+c])&&m(l[a+c][0])&&e.push([l[a+c][0],0,null,l[a+c][1]-g[a][1]]);for(a=0;a<e.length;a++)d.push(e[a][0]),f.push([0,null,e[a][3]]);b=k.seriesTypes.ema.prototype.getValues({xData:d,yData:f},{period:b.signalPeriod,index:2});b=b.values;for(a=0;a<e.length;a++)e[a][0]>=b[0][0]&&(e[a][2]=b[h][1],f[a]=[0,b[h][1],e[a][3]],null===e[a][3]?(e[a][1]=0,f[a][0]=0):(e[a][1]=
q(e[a][3]-b[h][1]),f[a][0]=q(e[a][3]-b[h][1])),h++);return{values:e,xData:d,yData:f}}};c.defaultOptions=r(p.defaultOptions,{params:{shortPeriod:12,longPeriod:26,signalPeriod:9,period:26},signalLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},macdLine:{zones:[],styles:{lineWidth:1,lineColor:void 0}},threshold:0,groupPadding:.1,pointPadding:.1,crisp:!1,states:{hover:{halo:{size:0}}},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Value: {point.MACD}<br/>Signal: {point.signal}<br/>Histogram: {point.y}<br/>'},
dataGrouping:{approximation:"averages"},minPointLength:0});return c}(p);u(d.prototype,{nameComponents:["longPeriod","shortPeriod","signalPeriod"],pointArrayMap:["y","signal","MACD"],parallelArrays:["x","y","signal","MACD"],pointValKey:"y",markerAttribs:t,getColumnMetrics:b.seriesTypes.column.prototype.getColumnMetrics,crispCol:b.seriesTypes.column.prototype.crispCol,drawPoints:b.seriesTypes.column.prototype.drawPoints});k.registerSeriesType("macd",d);"";return d});g(b,"masters/indicators/macd.src.js",
[],function(){})});//# sourceMappingURL=macd.js.map