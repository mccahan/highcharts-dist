/*
 Highcharts JS v11.1.0 (2023-08-20)

 Client side exporting module

 (c) 2015-2021 Torstein Honsi / Oystein Moseng

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/offline-exporting",["highcharts","highcharts/modules/exporting"],function(e){a(e);a.Highcharts=e;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function e(a,t,c,e){a.hasOwnProperty(t)||(a[t]=e.apply(null,c),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:t,
module:a[t]}})))}a=a?a._modules:{};e(a,"Extensions/DownloadURL.js",[a["Core/Globals.js"]],function(a){var t=a.isSafari,c=a.win,e=c.document,u=c.URL||c.webkitURL||c,r=a.dataURLtoBlob=function(a){if((a=a.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<a.length&&c.atob&&c.ArrayBuffer&&c.Uint8Array&&c.Blob&&u.createObjectURL){var v=c.atob(a[3]),b=new c.ArrayBuffer(v.length);b=new c.Uint8Array(b);for(var q=0;q<b.length;++q)b[q]=v.charCodeAt(q);a=new c.Blob([b],{type:a[1]});
return u.createObjectURL(a)}};a=a.downloadURL=function(a,u){var b=c.navigator,q=e.createElement("a");if("string"===typeof a||a instanceof String||!b.msSaveOrOpenBlob){a="".concat(a);b=/Edge\/\d+/.test(b.userAgent);if(t&&"string"===typeof a&&0===a.indexOf("data:application/pdf")||b||2E6<a.length)if(a=r(a)||"",!a)throw Error("Failed to convert to blob");if("undefined"!==typeof q.download)q.href=a,q.download=u,e.body.appendChild(q),q.click(),e.body.removeChild(q);else try{var B=c.open(a,"chart");if("undefined"===
typeof B||null===B)throw Error("Failed to open window");}catch(g){c.location.href=a}}else b.msSaveOrOpenBlob(a,u)};return{dataURLtoBlob:r,downloadURL:a}});e(a,"Extensions/OfflineExporting/OfflineExportingDefaults.js",[],function(){return{libURL:"https://code.highcharts.com/11.1.0/lib/",menuItemDefinitions:{downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},downloadSVG:{textKey:"downloadSVG",
onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}}}});e(a,"Extensions/OfflineExporting/OfflineExporting.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Chart/Chart.js"],a["Core/Defaults.js"],a["Extensions/DownloadURL.js"],a["Extensions/Exporting/Exporting.js"],a["Core/Globals.js"],a["Core/HttpUtilities.js"],a["Extensions/OfflineExporting/OfflineExportingDefaults.js"],a["Core/Utilities.js"]],
function(a,e,c,J,F,r,v,K,b){var q=c.defaultOptions,t=J.downloadURL,g=r.win,u=r.doc,L=v.ajax,M=b.addEvent,G=b.error,N=b.extend,O=b.fireEvent,H=b.merge;a.allowedAttributes.push("data-z-index","fill-opacity","rx","ry","stroke-dasharray","stroke-linejoin","text-anchor","transform","version","viewBox","visibility","xmlns","xmlns:xlink");a.allowedTags.push("desc","clippath","g");var P=[],w;(function(c){function e(a,d){function h(){return[].some.call(b.container.getElementsByTagName("image"),function(a){a=
a.getAttribute("href");return""!==a&&"string"===typeof a&&0!==a.indexOf("data:")})}function f(a){!1===k.fallbackToExportServer?k.error?k.error(k,a):G(28,!0):b.exportChart(k)}var b=this,k=H(b.options.exporting,a);r.isMS&&b.styledMode&&!F.inlineAllowlist.length&&F.inlineAllowlist.push(/^blockSize/,/^border/,/^caretColor/,/^color/,/^columnRule/,/^columnRuleColor/,/^cssFloat/,/^cursor/,/^fill$/,/^fillOpacity/,/^font/,/^inlineSize/,/^length/,/^lineHeight/,/^opacity/,/^outline/,/^parentRule/,/^rx$/,/^ry$/,
/^stroke/,/^textAlign/,/^textAnchor/,/^textDecoration/,/^transform/,/^vectorEffect/,/^visibility/,/^x$/,/^y$/);r.isMS&&("application/pdf"===k.type||b.container.getElementsByTagName("image").length&&"image/svg+xml"!==k.type)||"application/pdf"===k.type&&h()?f(Error("Image type not supported for this chart/browser.")):b.getSVGForLocalExport(k,d||{},f,function(a){-1<a.indexOf("<foreignObject")&&"image/svg+xml"!==k.type&&(r.isMS||"application/pdf"===k.type)?f(Error("Image type not supported for charts with embedded HTML")):
c.downloadSVGLocal(a,N({filename:b.getFilename()},k),f,function(){return O(b,"exportChartLocalSuccess")})})}function v(a,d){var h=u.getElementsByTagName("head")[0],f=u.createElement("script");f.type="text/javascript";f.src=a;f.onload=d;f.onerror=function(){G("Error loading script "+a)};h.appendChild(f)}function w(a,d,b,f){function h(a,d,h){++x;h.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",a);k()}function k(){m&&x===n&&f(g.sanitizeSVG(p.innerHTML,l))}var g=this,p,l,e=null,m,n=
0,x=0;g.unbindGetSVG=M(g,"getSVG",function(a){l=a.chartCopy.options;m=(p=a.chartCopy.container.cloneNode(!0))&&p.getElementsByTagName("image")||[];n=m.length});g.getSVGForExport(a,d);try{if(!m||!m.length){f(g.sanitizeSVG(p.innerHTML,l));return}for(d=0;d<m.length;d++){var z=m[d];(e=z.getAttributeNS("http://www.w3.org/1999/xlink","href"))?c.imageToDataUrl(e,"image/png",{imageElement:z},a.scale,h,b,b,b):(x++,z.parentNode.removeChild(z),d--,k())}}catch(y){b(y)}g.unbindGetSVG()}function B(a,d,b,f,e,k,
t,p,l){function h(){p(a,d,b,f);l&&l(a,d,b,f)}function m(){setTimeout(function(){var c=u.createElement("canvas"),h=c.getContext&&c.getContext("2d");try{if(h){c.height=n.height*f;c.width=n.width*f;h.drawImage(n,0,0,c.width,c.height);try{var g=c.toDataURL(d);e(g,d,b,f)}catch(C){q(a,d,b,f)}}else t(a,d,b,f)}finally{l&&l(a,d,b,f)}},c.loadEventDeferDelay)}var n=new g.Image;var q=function(){n=new g.Image;q=k;n.crossOrigin="Anonymous";n.onload=m;n.onerror=h;n.src=a};n.onload=m;n.onerror=h;n.src=a}function D(a){var d=
g.navigator.userAgent;d=-1<d.indexOf("WebKit")&&0>d.indexOf("Chrome");try{if(!d&&-1===a.indexOf("<foreignObject"))return c.domurl.createObjectURL(new g.Blob([a],{type:"image/svg+xml;charset-utf-16"}))}catch(x){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(a)}function I(a,c,b){var f=Number(a.getAttribute("width"))+2*c;c=Number(a.getAttribute("height"))+2*c;var d=new g.jspdf.jsPDF(c>f?"p":"l","pt",[f,c]);[].forEach.call(a.querySelectorAll('*[visibility="hidden"]'),function(a){a.parentNode.removeChild(a)});
for(var h=a.querySelectorAll("linearGradient"),e=0;e<h.length;e++)for(var p=h[e].querySelectorAll("stop"),l=0;l<p.length&&"0"===p[l].getAttribute("offset")&&"0"===p[l+1].getAttribute("offset");)p[l].remove(),l++;[].forEach.call(a.querySelectorAll("tspan"),function(a){"\u200b"===a.textContent&&(a.textContent=" ",a.setAttribute("dx",-5))});d.svg(a,{x:0,y:0,width:f,height:c,removeInvalid:!0}).then(function(){return b(d.output("datauristring"))})}c.CanVGRenderer={};c.domurl=g.URL||g.webkitURL||g;c.loadEventDeferDelay=
r.isMS?150:0;c.compose=function(a){if(b.pushUnique(P,a)){var c=a.prototype;c.getSVGForLocalExport=w;c.exportChartLocal=e;H(!0,q.exporting,K)}return a};c.downloadSVGLocal=function(b,d,e,f){function h(){a.setElementHTML(r,b);var c=r.getElementsByTagName("text"),d,g;[].forEach.call(c,function(a){["fontFamily","fontSize"].forEach(function(c){for(var b=a;b&&b!==r;){if(b.style[c]){b=b.style[c];"fontSize"===c&&/em$/.test(b)&&(b=Math.round(16*parseFloat(b))+"px");a.style[c]=b;break}b=b.parentNode}});a.style.fontFamily=
A&&A.normal?"HighchartsFont":String(a.style.fontFamily&&a.style.fontFamily.split(" ").splice(-1));d=a.getElementsByTagName("title");[].forEach.call(d,function(b){a.removeChild(b)});for(g=a.getElementsByClassName("highcharts-text-outline");0<g.length;)a.removeChild(g[0])});var h=r.querySelector("svg");h&&k(h,function(){I(h,0,function(a){try{t(a,l),f&&f()}catch(E){e(E)}})})}function k(a,b){function c(){var a=f.shift();if(!a)return b();var g=A&&A[a];g?L({url:g,responseType:"blob",success:function(b,
f){b=new FileReader;b.onloadend=function(){if("string"===typeof this.result){var b=this.result.split(",")[1];d(a,b);"normal"===a&&(e=b)}c()};b.readAsDataURL(f.response)},error:c}):(e&&d(a,e),c())}function d(a,b){g.jspdf.jsPDF.API.events.push(["initialized",function(){this.addFileToVFS(a,b);this.addFont(a,"HighchartsFont",a);this.getFontList().HighchartsFont||this.setFont("HighchartsFont")}])}A&&!/[^\u0000-\u007F\u200B]+/.test(a.textContent||"")&&(A=void 0);var f=["normal","italic","bold","bolditalic"],
e;c()}var r=u.createElement("div"),p=d.type||"image/png",l=(d.filename||"chart")+"."+("image/svg+xml"===p?"svg":p.split("/")[1]),w=d.scale||1,m=d.libURL||q.exporting.libURL,n=!0,A=d.pdfFont;m="/"!==m.slice(-1)?m+"/":m;if("image/svg+xml"===p)try{if("undefined"!==typeof g.MSBlobBuilder){var z=new g.MSBlobBuilder;z.append(b);var y=z.getBlob("image/svg+xml")}else y=D(b);t(y,l);f&&f()}catch(C){e(C)}else if("application/pdf"===p)g.jspdf&&g.jspdf.jsPDF?h():(n=!0,v(m+"jspdf.js",function(){v(m+"svg2pdf.js",
h)}));else{y=D(b);var x=function(){try{c.domurl.revokeObjectURL(y)}catch(C){}};B(y,p,{},w,function(a){try{t(a,l),f&&f()}catch(Q){e(Q)}},function(){function a(){g.canvg.Canvg.fromString(d,b).start();try{t(g.navigator.msSaveOrOpenBlob?c.msToBlob():c.toDataURL(p),l),f&&f()}catch(E){e(E)}finally{x()}}var c=u.createElement("canvas"),d=c.getContext("2d"),h=b.match(/^<svg[^>]*width\s*=\s*"?(\d+)"?[^>]*>/)[1]*w,k=b.match(/^<svg[^>]*height\s*=\s*"?(\d+)"?[^>]*>/)[1]*w;c.width=h;c.height=k;g.canvg?a():(n=!0,
v(m+"canvg.js",function(){a()}))},e,e,function(){n&&x()})}};c.getScript=v;c.imageToDataUrl=B;c.svgToDataUrl=D;c.svgToPdf=I})(w||(w={}));return w});e(a,"masters/modules/offline-exporting.src.js",[a["Core/Globals.js"],a["Extensions/OfflineExporting/OfflineExporting.js"]],function(a,e){a.downloadSVGLocal=e.downloadSVGLocal;e.compose(a.Chart)})});//# sourceMappingURL=offline-exporting.js.map