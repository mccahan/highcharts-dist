/*
 Highcharts JS v11.1.0 (2023-08-20)

 (c) 2017-2021 Highsoft AS
 Authors: Jon Arild Nygard

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/venn",["highcharts"],function(n){a(n);a.Highcharts=n;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function n(a,d,b,x){a.hasOwnProperty(d)||(a[d]=x.apply(null,b),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:d,module:a[d]}})))}a=a?a._modules:
{};n(a,"Core/Geometry/GeometryUtilities.js",[],function(){var a;(function(a){a.getCenterOfPoints=function(b){var a=b.reduce(function(a,b){a.x+=b.x;a.y+=b.y;return a},{x:0,y:0});return{x:a.x/b.length,y:a.y/b.length}};a.getDistanceBetweenPoints=function(a,d){return Math.sqrt(Math.pow(d.x-a.x,2)+Math.pow(d.y-a.y,2))};a.getAngleBetweenPoints=function(a,d){return Math.atan2(d.x-a.x,d.y-a.y)}})(a||(a={}));return a});n(a,"Core/Geometry/CircleUtilities.js",[a["Core/Geometry/GeometryUtilities.js"]],function(a){var d=
a.getAngleBetweenPoints,b=a.getCenterOfPoints,x=a.getDistanceBetweenPoints,l;(function(a){function m(a,h){h=Math.pow(10,h);return Math.round(a*h)/h}function k(a){if(0>=a)throw Error("radius of circle must be a positive number.");return Math.PI*a*a}function f(a,h){return a*a*Math.acos(1-h/a)-(a-h)*Math.sqrt(h*(2*a-h))}function l(a,h){var b=x(a,h),f=a.r,d=h.r,v=[];if(b<f+d&&b>Math.abs(f-d)){f*=f;var k=(f-d*d+b*b)/(2*b);d=Math.sqrt(f-k*k);f=a.x;v=h.x;a=a.y;var l=h.y;h=f+k*(v-f)/b;k=a+k*(l-a)/b;a=d/b*
-(l-a);b=d/b*-(v-f);v=[{x:m(h+a,14),y:m(k-b,14)},{x:m(h-a,14),y:m(k+b,14)}]}return v}function r(a){return a.reduce(function(a,b,f,d){d=d.slice(f+1).reduce(function(a,h,d){var k=[f,d+f+1];return a.concat(l(b,h).map(function(a){a.indexes=k;return a}))},[]);return a.concat(d)},[])}function n(a,b){return x(a,b)<=b.r+1e-10}function w(a,b){return!b.some(function(b){return!n(a,b)})}function A(a){return r(a).filter(function(b){return w(b,a)})}a.round=m;a.getAreaOfCircle=k;a.getCircularSegmentArea=f;a.getOverlapBetweenCircles=
function(a,b,d){var h=0;d<a+b&&(d<=Math.abs(b-a)?h=k(a<b?a:b):(h=(a*a-b*b+d*d)/(2*d),d-=h,h=f(a,a-h)+f(b,b-d)),h=m(h,14));return h};a.getCircleCircleIntersection=l;a.getCirclesIntersectionPoints=r;a.isCircle1CompletelyOverlappingCircle2=function(a,b){return x(a,b)+b.r<a.r+1e-10};a.isPointInsideCircle=n;a.isPointInsideAllCircles=w;a.isPointOutsideAllCircles=function(a,b){return!b.some(function(b){return n(a,b)})};a.getCirclesIntersectionPolygon=A;a.getAreaOfIntersectionBetweenCircles=function(a){var f=
A(a);if(1<f.length){var k=b(f);f=f.map(function(a){a.angle=d(k,a);return a}).sort(function(a,b){return b.angle-a.angle});var m=f[f.length-1];f=f.reduce(function(f,k){var m=f.startPoint,h=b([m,k]),l=k.indexes.filter(function(a){return-1<m.indexes.indexOf(a)}).reduce(function(q,c){c=a[c];var p=d(c,k),e=d(c,m);p=e-(e-p+(e<p?2*Math.PI:0))/2;p=x(h,{x:c.x+c.r*Math.sin(p),y:c.y+c.r*Math.cos(p)});c=c.r;p>2*c&&(p=2*c);if(!q||q.width>p)q={r:c,largeArc:p>c?1:0,width:p,x:k.x,y:k.y};return q},null);if(l){var r=
l.r;f.arcs.push(["A",r,r,0,l.largeArc,1,l.x,l.y]);f.startPoint=k}return f},{startPoint:m,arcs:[]}).arcs;if(0!==f.length&&1!==f.length){f.unshift(["M",m.x,m.y]);var l={center:k,d:f}}}return l}})(l||(l={}));return l});n(a,"Series/DrawPointUtilities.js",[a["Core/Utilities.js"]],function(){var a=this&&this.__assign||function(){a=Object.assign||function(a){for(var b,d=1,l=arguments.length;d<l;d++){b=arguments[d];for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&(a[k]=b[k])}return a};return a.apply(this,
arguments)};return{draw:function(d,b){var r=b.animatableAttribs,l=b.onComplete,k=b.css,m=b.renderer,t=d.series&&d.series.chart.hasRendered?void 0:d.series&&d.series.options.animation,f=d.graphic;b.attribs=a(a({},b.attribs),{"class":d.getClassName()})||{};if(d.shouldDraw())f||(f="text"===b.shapeType?m.text():"image"===b.shapeType?m.image(b.imageUrl||"").attr(b.shapeArgs||{}):m[b.shapeType](b.shapeArgs||{}),d.graphic=f,f.add(b.group)),k&&f.css(k),f.attr(b.attribs).animate(r,b.isNew?!1:t,l);else if(f){var n=
function(){d.graphic=f=f&&f.destroy();"function"===typeof l&&l()};Object.keys(r).length?f.animate(r,void 0,function(){return n()}):n()}}}});n(a,"Series/Venn/VennPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,d){var b=this&&this.__extends||function(){function a(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(a[f]=b[f])};return a(b,d)}return function(b,
d){function k(){this.constructor=b}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");a(b,d);b.prototype=null===d?Object.create(d):(k.prototype=d.prototype,new k)}}(),r=d.isNumber;return function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.options=void 0;b.series=void 0;return b}b(d,a);d.prototype.isValid=function(){return r(this.value)};d.prototype.shouldDraw=function(){return!!this.shapeArgs};return d}(a.seriesTypes.scatter.prototype.pointClass)});
n(a,"Series/Venn/VennUtils.js",[a["Core/Geometry/CircleUtilities.js"],a["Core/Geometry/GeometryUtilities.js"],a["Core/Utilities.js"]],function(a,d,b){function n(a){var c={};a.filter(function(a){return 2===a.sets.length}).forEach(function(a){a.sets.forEach(function(e,b,p){var g;z(c[e])||(c[e]={totalOverlap:0,overlapping:{}});c[e]={totalOverlap:(c[e].totalOverlap||0)+a.value,overlapping:w(w({},c[e].overlapping||{}),(g={},g[p[1-b]]=a.value,g))}})});a.filter(f).forEach(function(a){C(a,c[a.sets[0]])});
return a}function l(a,c,b,e,g){var p=a(c),q=a(b);g=g||100;e=e||1e-10;var d=b-c,f=1;if(c>=b)throw Error("a must be smaller than b.");if(0<p*q)throw Error("f(a) and f(b) must have opposite signs.");if(0===p)var k=c;else if(0===q)k=b;else for(;f++<=g&&0!==h&&d>e;){d=(b-c)/2;k=c+d;var h=a(k);0<p*h?c=k:b=k}return k}function k(a){function c(a,c){a.sum+=c[a.i];return a}a=a.slice(0,-1);for(var b=a.length,e=[],g=0;g<b;g++)e[g]=a.reduce(c,{sum:0,i:g}).sum/b;return e}function m(a,c,b){var e=a+c;return 0>=b?
e:A(a<c?a:c)<=b?0:l(function(e){e=h(a,c,e);return b-e},0,e)}function r(a){var c=0;2===a.length&&(c=a[0],a=a[1],c=h(c.r,a.r,y(c,a)));return c}function f(a){return u(a.sets)&&1===a.sets.length}function I(a){var c={};return z(a)&&G(a.value)&&-1<a.value&&u(a.sets)&&0<a.sets.length&&!a.sets.some(function(a){var b=!1;!c[a]&&K(a)?c[a]=!0:b=!0;return b})}function J(a,c){return c.reduce(function(c,b){var g=0;1<b.sets.length&&(g=b.value,b=r(b.sets.map(function(c){return a[c]})),b=g-b,g=Math.round(b*b*1E11)/
1E11);return c+g},0)}function D(a,c){return"undefined"!==typeof c.totalOverlap&&"undefined"!==typeof a.totalOverlap?c.totalOverlap-a.totalOverlap:NaN}var w=this&&this.__assign||function(){w=Object.assign||function(a){for(var c,b=1,e=arguments.length;b<e;b++){c=arguments[b];for(var g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a};return w.apply(this,arguments)},A=a.getAreaOfCircle,v=a.getCircleCircleIntersection,h=a.getOverlapBetweenCircles,E=a.isPointInsideAllCircles,F=a.isPointInsideCircle,
B=a.isPointOutsideAllCircles,y=d.getDistanceBetweenPoints,C=b.extend,u=b.isArray,G=b.isNumber,z=b.isObject,K=b.isString;return{geometry:d,geometryCircles:a,addOverlapToSets:n,getCentroid:k,getDistanceBetweenCirclesByOverlap:m,getLabelWidth:function(a,c,b){function e(b,g){return l(function(e){var d={x:a.x+g*e,y:a.y};d=E(d,c)&&B(d,p);return-(b-e)+(d?0:Number.MAX_VALUE)},0,b)}var g=c.reduce(function(a,c){return Math.min(c.r,a)},Infinity),p=b.filter(function(c){return!F(a,c)});return 2*Math.min(e(g,-1),
e(g,1))},getMarginFromCircles:function(a,c,b){c=c.reduce(function(c,b){b=b.r-y(a,b);return b<=c?b:c},Number.MAX_VALUE);return c=b.reduce(function(c,b){b=y(a,b)-b.r;return b<=c?b:c},c)},isSet:f,layoutGreedyVenn:function(a){function c(a,c){var e=a.circle;e&&(e.x=c.x,e.y=c.y);b.push(a)}var b=[],e={};a.filter(function(a){return 1===a.sets.length}).forEach(function(a){e[a.sets[0]]=a.circle={x:Number.MAX_VALUE,y:Number.MAX_VALUE,r:Math.sqrt(a.value/Math.PI)}});n(a);var g=a.filter(f).sort(D);c(g.shift(),
{x:0,y:0});var d=a.filter(function(a){return 2===a.sets.length});g.forEach(function(a){var g=a.circle;if(g){var p=g.r,f=a.overlapping,H=b.reduce(function(a,c,H){var q=c.circle;if(!q||!f)return a;var k=m(p,q.r,f[c.sets[0]]),h=[{x:q.x+k,y:q.y},{x:q.x-k,y:q.y},{x:q.x,y:q.y+k},{x:q.x,y:q.y-k}];b.slice(H+1).forEach(function(a){var c=a.circle;c&&(a=m(p,c.r,f[a.sets[0]]),h=h.concat(v({x:q.x,y:q.y,r:k},{x:c.x,y:c.y,r:a})))});h.forEach(function(c){g.x=c.x;g.y=c.y;var b=J(e,d);b<a.loss&&(a.loss=b,a.coordinates=
c)});return a},{loss:Number.MAX_VALUE,coordinates:void 0});c(a,H.coordinates)}});return e},loss:J,nelderMead:function(a,c){function b(c,b,e,g){c=d(e,c,g,b);c.fx=a(c);return c}function e(c){var b=c[0];return c.map(function(c){c=d(.5,b,.5,c);c.fx=a(c);return c})}function g(c,b){b.fx=a(b);c[c.length-1]=b;return c}function d(a,c,b,e){return c.map(function(c,g){return a*c+b*e[g]})}function f(a,c){return a.fx-c.fx}c=function(c){var b=c.length,e=Array(b+1);e[0]=c;e[0].fx=a(c);for(var g=0;g<b;++g){var d=
c.slice();d[g]=d[g]?1.05*d[g]:.001;d.fx=a(d);e[g+1]=d}return e}(c);for(var q=0;100>q;q++){c.sort(f);var h=c[c.length-1],l=k(c),m=b(l,h,2,-1);if(m.fx<c[0].fx)h=b(l,h,3,-2),c=g(c,h.fx<m.fx?h:m);else if(m.fx>=c[c.length-2].fx){var n=void 0;m.fx>h.fx?(n=b(l,h,.5,.5),c=n.fx<h.fx?g(c,n):e(c)):(n=b(l,h,1.5,-.5),c=n.fx<m.fx?g(c,n):e(c))}else c=g(c,m)}return c[0]},processVennData:function(a,c){a=u(a)?a:[];var b=a.reduce(function(a,c){var b;if(b=c.sets)b=I(c)&&f(c)&&0<c.value;b&&-1===a.indexOf(c.sets[0])&&
a.push(c.sets[0]);return a},[]).sort(),e=a.reduce(function(a,e){e.sets&&I(e)&&!e.sets.some(function(a){return-1===b.indexOf(a)})&&(a[e.sets.sort().join(c)]={sets:e.sets,value:e.value||0});return a},{});b.reduce(function(a,b,e,d){d.slice(e+1).forEach(function(e){a.push(b+c+e)});return a},[]).forEach(function(a){if(!e[a]){var b={sets:a.split(c),value:0};e[a]=b}});return Object.keys(e).map(function(a){return e[a]})},sortByTotalOverlap:D}});n(a,"Series/Venn/VennSeries.js",[a["Core/Animation/AnimationUtilities.js"],
a["Core/Color/Color.js"],a["Core/Geometry/CircleUtilities.js"],a["Series/DrawPointUtilities.js"],a["Core/Geometry/GeometryUtilities.js"],a["Core/Series/SeriesRegistry.js"],a["Series/Venn/VennPoint.js"],a["Series/Venn/VennUtils.js"],a["Core/Utilities.js"]],function(a,d,b,n,l,k,m,t,f){var r=this&&this.__extends||function(){function a(b,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=
c[b])};return a(b,c)}return function(b,c){function d(){this.constructor=b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(b,c);b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),x=a.animObject,D=d.parse,w=b.getAreaOfIntersectionBetweenCircles,A=b.getCirclesIntersectionPolygon,v=b.isCircle1CompletelyOverlappingCircle2,h=b.isPointInsideAllCircles,E=b.isPointOutsideAllCircles,F=l.getCenterOfPoints,B=k.seriesTypes.scatter;
a=f.addEvent;var y=f.extend,C=f.isArray,u=f.isNumber,G=f.isObject,z=f.merge;f=function(a){function b(){var c=null!==a&&a.apply(this,arguments)||this;c.data=void 0;c.mapOfIdToRelation=void 0;c.options=void 0;c.points=void 0;return c}r(b,a);b.getLabelPosition=function(a,b){var c=a.reduce(function(c,e){var d=e.r/2;return[{x:e.x,y:e.y},{x:e.x+d,y:e.y},{x:e.x-d,y:e.y},{x:e.x,y:e.y+d},{x:e.x,y:e.y-d}].reduce(function(c,e){var d=t.getMarginFromCircles(e,a,b);c.margin<d&&(c.point=e,c.margin=d);return c},
c)},{point:void 0,margin:-Number.MAX_VALUE}).point;c=t.nelderMead(function(c){return-t.getMarginFromCircles({x:c[0],y:c[1]},a,b)},[c.x,c.y]);c={x:c[0],y:c[1]};h(c,a)&&E(c,b)||(c=1<a.length?F(A(a)):{x:a[0].x,y:a[0].y});return c};b.getLabelValues=function(a,d){var c=a.sets,g=d.reduce(function(a,b){var e=-1<c.indexOf(b.sets[0]);b.circle&&a[e?"internal":"external"].push(b.circle);return a},{internal:[],external:[]});g.external=g.external.filter(function(a){return g.internal.some(function(c){return!v(a,
c)})});a=b.getLabelPosition(g.internal,g.external);d=t.getLabelWidth(a,g.internal,g.external);return{position:a,width:d}};b.layout=function(a){var c={},e={};if(0<a.length){var d=t.layoutGreedyVenn(a),f=a.filter(t.isSet);a.forEach(function(a){var g=a.sets,p=g.join();if(g=t.isSet(a)?d[p]:w(g.map(function(a){return d[a]})))c[p]=g,e[p]=b.getLabelValues(a,f)})}return{mapOfIdToShape:c,mapOfIdToLabelValues:e}};b.getScale=function(a,b,e){var c=e.bottom-e.top,d=e.right-e.left;c=Math.min(0<d?1/d*a:1,0<c?1/
c*b:1);return{scale:c,centerX:a/2-(e.right+e.left)/2*c,centerY:b/2-(e.top+e.bottom)/2*c}};b.updateFieldBoundaries=function(a,b){var c=b.x-b.r,d=b.x+b.r,f=b.y+b.r;b=b.y-b.r;if(!u(a.left)||a.left>c)a.left=c;if(!u(a.right)||a.right<d)a.right=d;if(!u(a.top)||a.top>b)a.top=b;if(!u(a.bottom)||a.bottom<f)a.bottom=f;return a};b.prototype.animate=function(a){if(!a){var b=x(this.options.animation);this.points.forEach(function(a){var c=a.shapeArgs;if(a.graphic&&c){var d={},e={};c.d?d.opacity=.001:(d.r=0,e.r=
c.r);a.graphic.attr(d).animate(e,b);c.d&&setTimeout(function(){a&&a.graphic&&a.graphic.animate({opacity:1})},b.duration)}},this)}};b.prototype.drawPoints=function(){var a=this,b=a.chart,d=a.group,f=b.renderer;(a.points||[]).forEach(function(c){var e={zIndex:C(c.sets)?c.sets.length:0},g=c.shapeArgs;b.styledMode||y(e,a.pointAttribs(c,c.state));n.draw(c,{isNew:!c.graphic,animatableAttribs:g,attribs:e,group:d,renderer:f,shapeType:g&&g.d?"path":"circle"})})};b.prototype.init=function(){B.prototype.init.apply(this,
arguments);delete this.opacity};b.prototype.pointAttribs=function(a,b){var c=this.options||{};a=z(c,{color:a&&a.color},a&&a.options||{},b&&c.states[b]||{});return{fill:D(a.color).brighten(a.brightness).get(),opacity:a.opacity,stroke:a.borderColor,"stroke-width":a.borderWidth,dashstyle:a.borderDashStyle}};b.prototype.translate=function(){var a=this.chart;this.processedXData=this.xData;this.generatePoints();var d=t.processVennData(this.options.data,b.splitter);d=b.layout(d);var e=d.mapOfIdToShape,f=
d.mapOfIdToLabelValues;d=Object.keys(e).filter(function(a){return(a=e[a])&&u(a.r)}).reduce(function(a,c){return b.updateFieldBoundaries(a,e[c])},{top:0,bottom:0,left:0,right:0});a=b.getScale(a.plotWidth,a.plotHeight,d);var h=a.scale,k=a.centerX,l=a.centerY;this.points.forEach(function(a){var b=C(a.sets)?a.sets:[],c=b.join(),d=e[c],g=f[c]||{};c=g.width;g=g.position;var m=a.options&&a.options.dataLabels;if(d){if(d.r)var n={x:k+d.x*h,y:l+d.y*h,r:d.r*h};else d.d&&(d=d.d,d.forEach(function(a){"M"===a[0]?
(a[1]=k+a[1]*h,a[2]=l+a[2]*h):"A"===a[0]&&(a[1]*=h,a[2]*=h,a[6]=k+a[6]*h,a[7]=l+a[7]*h)}),n={d:d});g?(g.x=k+g.x*h,g.y=l+g.y*h):g={};u(c)&&(c=Math.round(c*h))}a.shapeArgs=n;g&&n&&(a.plotX=g.x,a.plotY=g.y);c&&n&&(a.dlOptions=z(!0,{style:{width:c}},G(m,!0)?m:void 0));a.name=a.options.name||b.join("\u2229")})};b.splitter="highcharts-split";b.defaultOptions=z(B.defaultOptions,{borderColor:"#cccccc",borderDashStyle:"solid",borderWidth:1,brighten:0,clip:!1,colorByPoint:!0,dataLabels:{enabled:!0,verticalAlign:"middle",
formatter:function(){return this.point.name}},inactiveOtherPoints:!0,marker:!1,opacity:.75,showInLegend:!1,legendType:"point",states:{hover:{opacity:1,borderColor:"#333333"},select:{color:"#cccccc",borderColor:"#000000",animation:!1},inactive:{opacity:.075}},tooltip:{pointFormat:"{point.name}: {point.value}"},legendSymbol:"rectangle"});return b}(B);y(f.prototype,{axisTypes:[],directTouch:!0,isCartesian:!1,pointArrayMap:["value"],pointClass:m,utils:t});k.registerSeriesType("venn",f);"";a(f,"afterSetOptions",
function(a){var b=a.options.states;this.is("venn")&&Object.keys(b).forEach(function(a){b[a].halo=!1})});return f});n(a,"masters/modules/venn.src.js",[],function(){})});//# sourceMappingURL=venn.js.map