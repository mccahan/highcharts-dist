/*
 Highcharts JS v11.1.0 (2023-08-20)

 Arc diagram module

 (c) 2021 Piotr Madej

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/arc-diagram",["highcharts","highcharts/modules/sankey"],function(f){a(f);a.Highcharts=f;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function f(a,h,t,f){a.hasOwnProperty(h)||(a[h]=f.apply(null,t),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:h,
module:a[h]}})))}a=a?a._modules:{};f(a,"Series/ArcDiagram/ArcDiagramPoint.js",[a["Series/NodesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,h,f){var r=this&&this.__extends||function(){function a(d,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])};return a(d,c)}return function(d,c){function f(){this.constructor=d}if("function"!==typeof c&&
null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");a(d,c);d.prototype=null===c?Object.create(c):(f.prototype=c.prototype,new f)}}();f=f.extend;h=function(a){function d(){var c=null!==a&&a.apply(this,arguments)||this;c.fromNode=void 0;c.index=void 0;c.linksFrom=void 0;c.linksTo=void 0;c.options=void 0;c.series=void 0;c.scale=void 0;c.shapeArgs=void 0;c.toNode=void 0;return c}r(d,a);d.prototype.isValid=function(){return!0};return d}(h.seriesTypes.sankey.prototype.pointClass);
f(h.prototype,{setState:a.setNodeState});return h});f(a,"Series/ArcDiagram/ArcDiagramSeries.js",[a["Series/ArcDiagram/ArcDiagramPoint.js"],a["Series/Sankey/SankeyColumnComposition.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,f,t,r,p,d){var c=this&&this.__extends||function(){function a(c,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,a){e.__proto__=a}||function(e,a){for(var b in a)Object.prototype.hasOwnProperty.call(a,
b)&&(e[b]=a[b])};return a(c,e)}return function(c,e){function l(){this.constructor=c}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(c,e);c.prototype=null===e?Object.create(e):(l.prototype=e.prototype,new l)}}(),h=this&&this.__rest||function(a,c){var e={},l;for(l in a)Object.prototype.hasOwnProperty.call(a,l)&&0>c.indexOf(l)&&(e[l]=a[l]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(l=Object.getOwnPropertySymbols(a);n<
l.length;n++)0>c.indexOf(l[n])&&Object.prototype.propertyIsEnumerable.call(a,l[n])&&(e[l[n]]=a[l[n]])}return e},y=p.prototype.symbols;p=r.seriesTypes;var w=p.column,u=p.sankey;p=d.extend;var x=d.merge,v=d.pick,z=d.relativeLength;d=function(a){function d(){var e=null!==a&&a.apply(this,arguments)||this;e.data=void 0;e.options=void 0;e.nodeColumns=void 0;e.nodes=void 0;e.points=void 0;return e}c(d,a);d.prototype.createNodeColumns=function(){var e=this,a=this,c=a.chart,b=f.compose([],a);b.sankeyColumn.maxLength=
c.inverted?c.plotHeight:c.plotWidth;b.sankeyColumn.getTranslationFactor=function(a){for(var d=b.slice(),l=e.options.minLinkWidth||0,g=0,n,m,k=0,q=1,f=0,h=(c.plotSizeX||0)-(a.options.marker&&a.options.marker.lineWidth||0)-(b.length-1)*a.nodePadding;b.length;){g=h/b.sankeyColumn.sum();a=!1;for(n=b.length;n--;){m=b[n].getSum()*g*q;var p=Math.min(c.plotHeight,c.plotWidth);m>p?q=Math.min(p/m,q):m<l&&(b.splice(n,1),h-=l,m=l,a=!0);f+=m*(1-q)/2;k=Math.max(k,m)}if(!a)break}b.length=0;d.forEach(function(a){a.scale=
q;b.push(a)});b.sankeyColumn.maxRadius=k;b.sankeyColumn.scale=q;b.sankeyColumn.additionalSpace=f;return g};b.sankeyColumn.offset=function(e,d){for(var l=e.series.options.equalNodes,g=b.sankeyColumn.additionalSpace||0,n,q=a.nodePadding,k=Math.min(c.plotWidth,c.plotHeight,(b.sankeyColumn.maxLength||0)/a.nodes.length-q),f=0;f<b.length;f++){n=b[f].getSum()*(b.sankeyColumn.scale||0);var h=l?k:Math.max(n*d,a.options.minLinkWidth||0);n=n?h+q:0;if(b[f]===e)return{relativeLeft:g+z(e.options.offset||0,n)};
g+=n}};a.nodes.forEach(function(a){a.column=0;b.push(a)});return[b]};d.prototype.translateLink=function(a){function e(b,e){e=(b.offset(a,e)||0)*f;return Math.min(b.nodeX+e,b.nodeX+(b.shapeArgs&&b.shapeArgs.height||0)-g)}var c=a.fromNode;var b=a.toNode;var d=this.chart,f=this.translationFactor,h=this.options,g=v(a.options.linkWeight,h.linkWeight,Math.max((a.weight||0)*f*c.scale,this.options.minLinkWidth||0)),p=a.series.options.centeredLinks,m=c.nodeY,k=p?c.nodeX+((c.shapeArgs.height||0)-g)/2:e(c,"linksFrom");
b=p?b.nodeX+((b.shapeArgs.height||0)-g)/2:e(b,"linksTo");k>b&&(b=[b,k],k=b[0],b=b[1]);h.reversed&&(b=[b,k],k=b[0],b=b[1],m=(d.plotSizeY||0)-m);a.shapeType="path";a.linkBase=[k,k+g,b,b+g];h=(b+g-k)/Math.abs(b+g-k)*v(h.linkRadius,Math.min(Math.abs(b+g-k)/2,c.nodeY-Math.abs(g)));a.shapeArgs={d:[["M",k,m],["A",(b+g-k)/2,h,0,0,1,b+g,m],["L",b,m],["A",(b-k-g)/2,h-g,0,0,0,k+g,m],["Z"]]};a.dlBox={x:k+(b-k)/2,y:m-h,height:g,width:0};a.tooltipPos=d.inverted?[(d.plotSizeY||0)-a.dlBox.y-g/2,(d.plotSizeX||0)-
a.dlBox.x]:[a.dlBox.x,a.dlBox.y+g/2];a.y=a.plotY=1;a.x=a.plotX=1;a.color||(a.color=c.color)};d.prototype.translateNode=function(a,c){var e=this.translationFactor,b=this.chart,d=this.options,f=Math.min(b.plotWidth,b.plotHeight,(b.inverted?b.plotWidth:b.plotHeight)/a.series.nodes.length-this.nodePadding),h=a.getSum()*(c.sankeyColumn.scale||0);f=d.equalNodes?f:Math.max(h*e,this.options.minLinkWidth||0);var g=Math.round(d.marker&&d.marker.lineWidth||0)%2/2,l=c.sankeyColumn.offset(a,e);e=Math.floor(v(l&&
l.absoluteLeft,(c.sankeyColumn.left(e)||0)+(l&&l.relativeLeft||0)))+g;var m=x(d.marker,a.options.marker);l=m.symbol;var k=m.radius;c=parseInt(d.offset,10)*((b.inverted?b.plotWidth:b.plotHeight)-(Math.floor(this.colDistance*(a.column||0)+(m.lineWidth||0)/2)+g+(c.sankeyColumn.scale||0)*(c.sankeyColumn.maxRadius||0)/2))/100;(a.sum=h)?(a.nodeX=e,a.nodeY=c,h=a.options.width||d.width||f,f=a.options.height||d.height||f,g=c,d.reversed&&(g=(b.plotSizeY||0)-c,b.inverted&&(g=(b.plotSizeY||0)-c)),this.mapOptionsToLevel&&
(a.dlOptions=u.getDLOptions({level:this.mapOptionsToLevel[a.level],optionsPoint:a.options})),a.plotX=1,a.plotY=1,a.tooltipPos=b.inverted?[(b.plotSizeY||0)-g-f/2,(b.plotSizeX||0)-e-h/2]:[e+h/2,g+f/2],a.shapeType="path",a.shapeArgs={d:y[l||"circle"](e,g-(k||f)/2,k||h,k||f),width:k||h,height:k||f},a.dlBox={x:e+h/2,y:g,height:0,width:0}):a.dlOptions={enabled:!1}};d.prototype.drawDataLabels=function(){if(this.options.dataLabels){var a=this.options.dataLabels.textPath;w.prototype.drawDataLabels.call(this,
this.nodes);this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath;w.prototype.drawDataLabels.call(this,this.data);this.options.dataLabels.textPath=a}};d.prototype.pointAttribs=function(c,d){if(c&&c.isNode){var e=t.prototype.pointAttribs.apply(this,arguments);return h(e,["opacity"])}return a.prototype.pointAttribs.apply(this,arguments)};d.prototype.markerAttribs=function(c){return c.isNode?a.prototype.markerAttribs.apply(this,arguments):{}};d.defaultOptions=x(u.defaultOptions,{centeredLinks:!1,
offset:"100%",equalNodes:!1,reversed:!1,dataLabels:{linkTextPath:{attributes:{startOffset:"25%"}}},marker:{symbol:"circle",fillOpacity:1,lineWidth:0,states:{}}});return d}(u);p(d.prototype,{orderNodes:!1});d.prototype.pointClass=a;r.registerSeriesType("arcdiagram",d);"";return d});f(a,"masters/modules/arc-diagram.src.js",[],function(){})});//# sourceMappingURL=arc-diagram.js.map