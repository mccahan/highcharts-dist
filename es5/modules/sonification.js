/*
 Highcharts JS v11.1.0 (2023-08-20)

 Sonification module

 (c) 2010-2022 Highsoft AS
 Author: ystein Moseng

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/sonification",["highcharts"],function(r){a(r);a.Highcharts=r;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function r(a,n,d,h){a.hasOwnProperty(n)||(a[n]=h.apply(null,d),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:n,module:a[n]}})))}a=a?
a._modules:{};r(a,"Extensions/Sonification/Options.js",[],function(){"";return{sonification:{enabled:!0,duration:6E3,afterSeriesWait:700,updateInterval:200,masterVolume:.7,order:"sequential",showTooltip:!0,showCrosshair:!0,pointGrouping:{enabled:!0,groupTimespan:15,algorithm:"minmax",prop:"y"},defaultInstrumentOptions:{roundToMusicalNotes:!0,instrument:"piano",mapping:{time:"x",pan:"x",noteDuration:200,pitch:{mapTo:"y",min:"c2",max:"c6",within:"yAxis"},gapBetweenNotes:100}},defaultSpeechOptions:{language:"en-US",
mapping:{time:"x",rate:1.3,volume:.4},pointGrouping:{algorithm:"last"}}},exporting:{menuItemDefinitions:{downloadMIDI:{textKey:"downloadMIDI",onclick:function(){this.sonification&&this.sonification.downloadMIDI()}},playAsSound:{textKey:"playAsSound",onclick:function(){var a=this.sonification;a&&a.isPlaying()?a.cancel():this.sonify()}}}},lang:{downloadMIDI:"Download MIDI",playAsSound:"Play as sound"}}});r(a,"Extensions/Sonification/SynthPatch.js",[a["Core/Utilities.js"]],function(a){function n(c,b){return(.2414*
c-.2414)*Math.log(b)+(3.5-1.7*c)/1.8}function d(c,b,p){c.gain.cancelScheduledValues(b);c.gain.setTargetAtTime(p,b,f.stopRampTime/4);c.gain.setValueAtTime(p,b+f.stopRampTime)}function h(c,b,p,g,e){void 0===e&&(e=1);b="attack"===b;var J=g.gain;J.cancelScheduledValues(p);c.length?(1<c[0].t&&c.unshift({t:0,vol:b?0:1}),c.forEach(function(b,g){g=c[g-1];J.setTargetAtTime(b.vol*e,p+(g?g.t/1E3+f.stopRampTime:0),Math.max(g?(b.t-g.t)/1E3:0,f.stopRampTime)/2)})):d(g,p,b?e:0)}var t=this&&this.__assign||function(){t=
Object.assign||function(c){for(var b,p=1,g=arguments.length;p<g;p++){b=arguments[p];for(var f in b)Object.prototype.hasOwnProperty.call(b,f)&&(c[f]=b[f])}return c};return t.apply(this,arguments)},x=a.clamp,e=a.defined,z=a.pick,k=function(){function c(b,p){function c(){return new OscillatorNode(b,{type:"sawtooth",detune:p.detune,frequency:Math.max(1,p.frequency||350)})}this.pulseWidth=Math.min(Math.max(0,p.pulseWidth||.5));this.sawOscA=c();this.sawOscB=c();this.phaseInverter=new GainNode(b,{gain:-1});
this.masterGain=new GainNode(b);this.delayNode=new DelayNode(b,{delayTime:this.pulseWidth/this.sawOscA.frequency.value});this.sawOscA.connect(this.masterGain);this.sawOscB.connect(this.phaseInverter);this.phaseInverter.connect(this.delayNode);this.delayNode.connect(this.masterGain)}c.prototype.connect=function(b){this.masterGain.connect(b)};c.prototype.getFrequencyFacade=function(){var b=this;return{cancelScheduledValues:function(c){b.sawOscA.frequency.cancelScheduledValues(c);b.sawOscB.frequency.cancelScheduledValues(c);
b.delayNode.delayTime.cancelScheduledValues(c);return b.sawOscA.frequency},setValueAtTime:function(c,g){this.cancelScheduledValues(g);b.sawOscA.frequency.setValueAtTime(c,g);b.sawOscB.frequency.setValueAtTime(c,g);b.delayNode.delayTime.setValueAtTime(Math.round(1E4*b.pulseWidth/c)/1E4,g);return b.sawOscA.frequency},setTargetAtTime:function(c,g,f){this.cancelScheduledValues(g);b.sawOscA.frequency.setTargetAtTime(c,g,f);b.sawOscB.frequency.setTargetAtTime(c,g,f);b.delayNode.delayTime.setTargetAtTime(Math.round(1E4*
b.pulseWidth/c)/1E4,g,f);return b.sawOscA.frequency}}};c.prototype.getPWMTarget=function(){return this.delayNode.delayTime};c.prototype.start=function(){this.sawOscA.start();this.sawOscB.start()};c.prototype.stop=function(b){this.sawOscA.stop(b);this.sawOscB.stop(b)};return c}(),q=function(){function c(b,c,g){this.audioContext=b;this.options=c;this.fmOscillatorIx=c.fmOscillator;this.vmOscillatorIx=c.vmOscillator;this.createSoundSource();this.createGain();this.createFilters();this.createVolTracking();
g&&this.connect(g)}c.prototype.connect=function(b){[this.lowpassNode,this.highpassNode,this.volTrackingNode,this.vmNode,this.gainNode,this.whiteNoise,this.pulseNode,this.oscNode].reduce(function(b,c){return c?(c.connect(b),c):b},b)};c.prototype.start=function(){this.oscNode&&this.oscNode.start();this.whiteNoise&&this.whiteNoise.start();this.pulseNode&&this.pulseNode.start()};c.prototype.stopAtTime=function(b){this.oscNode&&this.oscNode.stop(b);this.whiteNoise&&this.whiteNoise.stop(b);this.pulseNode&&
this.pulseNode.stop(b)};c.prototype.setFreqAtTime=function(b,c,g){void 0===g&&(g=0);var f=this.options;c=x(z(f.fixedFrequency,c)*(f.freqMultiplier||1),0,21E3);f=this.getOscTarget();var p=g/5E3;f&&(f.cancelScheduledValues(b),g&&.01<b-(this.lastUpdateTime||-1)?(f.setTargetAtTime(c,b,p),f.setValueAtTime(c,b+p)):f.setValueAtTime(c,b));this.scheduleVolTrackingChange(c,b,g);this.scheduleFilterTrackingChange(c,b,g);this.lastUpdateTime=b};c.prototype.getFMTarget=function(){return this.oscNode&&this.oscNode.detune||
this.whiteNoise&&this.whiteNoise.detune||this.pulseNode&&this.pulseNode.getPWMTarget()};c.prototype.getVMTarget=function(){return this.vmNode&&this.vmNode.gain};c.prototype.runEnvelopeAtTime=function(b,c){this.gainNode&&h(("attack"===b?this.options.attackEnvelope:this.options.releaseEnvelope)||[],b,c,this.gainNode,this.options.volume)};c.prototype.cancelScheduled=function(){this.gainNode&&this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime);var b=this.getOscTarget();b&&b.cancelScheduledValues(0);
this.lowpassNode&&this.lowpassNode.frequency.cancelScheduledValues(0);this.highpassNode&&this.highpassNode.frequency.cancelScheduledValues(0);this.volTrackingNode&&this.volTrackingNode.gain.cancelScheduledValues(0)};c.prototype.scheduleVolTrackingChange=function(b,c,g){this.volTrackingNode&&(b=n(this.options.volumePitchTrackingMultiplier||1,b),g=g?g/1E3:f.stopRampTime,this.volTrackingNode.gain.cancelScheduledValues(c),this.volTrackingNode.gain.setTargetAtTime(b,c,g/5),this.volTrackingNode.gain.setValueAtTime(b,
c+g))};c.prototype.scheduleFilterTrackingChange=function(b,c,g){function e(f,g){var e=n(g.frequencyPitchTrackingMultiplier||1,b);g=x((g.frequency||1E3)*e,0,21E3);f.frequency.cancelScheduledValues(c);f.frequency.setTargetAtTime(g,c,q/5);f.frequency.setValueAtTime(g,c+q)}var p=this.options,q=g?g/1E3:f.stopRampTime;this.lowpassNode&&p.lowpass&&e(this.lowpassNode,p.lowpass);this.highpassNode&&p.highpass&&e(this.highpassNode,p.highpass)};c.prototype.createGain=function(){var b=this.options;if(e(b.volume)||
b.attackEnvelope&&b.attackEnvelope.length||b.releaseEnvelope&&b.releaseEnvelope.length)this.gainNode=new GainNode(this.audioContext,{gain:z(b.volume,1)});this.vmNode=new GainNode(this.audioContext)};c.prototype.createSoundSource=function(){var b=this.options,c=this.audioContext,f=(b.fixedFrequency||0)*(b.freqMultiplier||1);if("whitenoise"===b.type){f=2*c.sampleRate;b=c.createBuffer(1,f,c.sampleRate);for(var e=b.getChannelData(0),q=0;q<f;++q)e[q]=1.2*Math.random()-.6;c=this.whiteNoise=c.createBufferSource();
c.buffer=b;c.loop=!0}else"pulse"===b.type?this.pulseNode=new k(c,{detune:b.detune,pulseWidth:b.pulseWidth,frequency:f}):this.oscNode=new OscillatorNode(c,{type:b.type||"sine",detune:b.detune,frequency:f})};c.prototype.createFilters=function(){var b=this.options;b.lowpass&&b.lowpass.frequency&&(this.lowpassNode=new BiquadFilterNode(this.audioContext,{type:"lowpass",Q:b.lowpass.Q||1,frequency:b.lowpass.frequency}));b.highpass&&b.highpass.frequency&&(this.highpassNode=new BiquadFilterNode(this.audioContext,
{type:"highpass",Q:b.highpass.Q||1,frequency:b.highpass.frequency}))};c.prototype.createVolTracking=function(){var b=this.options;b.volumePitchTrackingMultiplier&&1!==b.volumePitchTrackingMultiplier&&(this.volTrackingNode=new GainNode(this.audioContext,{gain:1}))};c.prototype.getOscTarget=function(){return this.oscNode?this.oscNode.frequency:this.pulseNode&&this.pulseNode.getFrequencyFacade()};return c}(),f=function(){function c(b,c){var f=this;this.audioContext=b;this.options=c;this.eqNodes=[];this.midiInstrument=
c.midiInstrument||1;this.outputNode=new GainNode(b,{gain:0});this.createEqChain(this.outputNode);var p=this.eqNodes.length?this.eqNodes[0]:this.outputNode;this.oscillators=(this.options.oscillators||[]).map(function(c){return new q(b,c,e(c.fmOscillator)||e(c.vmOscillator)?void 0:p)});this.oscillators.forEach(function(b){if(e(b.fmOscillatorIx)){var c=f.oscillators[b.fmOscillatorIx];c&&(c=c.getFMTarget())&&b.connect(c)}e(b.vmOscillatorIx)&&(c=f.oscillators[b.vmOscillatorIx])&&(c=c.getVMTarget())&&b.connect(c)})}
c.prototype.startSilently=function(){this.outputNode.gain.value=0;this.oscillators.forEach(function(b){return b.start()})};c.prototype.stop=function(){var b=this.audioContext.currentTime,f=b+c.stopRampTime;d(this.outputNode,b,0);this.oscillators.forEach(function(b){return b.stopAtTime(f)});this.outputNode.disconnect()};c.prototype.silenceAtTime=function(b){!b&&.01>this.outputNode.gain.value?this.outputNode.gain.value=0:this.releaseAtTime((b||0)+this.audioContext.currentTime)};c.prototype.mute=function(){this.cancelScheduled();
d(this.outputNode,this.audioContext.currentTime,0)};c.prototype.playFreqAtTime=function(b,c,f){var e=(b||0)+this.audioContext.currentTime,g=this.options;this.oscillators.forEach(function(b){b.setFreqAtTime(e,c,g.noteGlideDuration);b.runEnvelopeAtTime("attack",e)});h(g.masterAttackEnvelope||[],"attack",e,this.outputNode,g.masterVolume);f&&this.releaseAtTime(e+f/1E3)};c.prototype.cancelScheduled=function(){this.outputNode.gain.cancelScheduledValues(this.audioContext.currentTime);this.oscillators.forEach(function(b){return b.cancelScheduled()})};
c.prototype.connect=function(b){return this.outputNode.connect(b)};c.prototype.createEqChain=function(b){var c=this;this.eqNodes=(this.options.eq||[]).map(function(b){return new BiquadFilterNode(c.audioContext,t({type:"peaking"},b))});this.eqNodes.reduceRight(function(b,c){c.connect(b);return c},b)};c.prototype.releaseAtTime=function(b){var c=0;this.oscillators.forEach(function(f){var e=f.options.releaseEnvelope;e&&e.length&&(c=Math.max(c,e[e.length-1].t),f.runEnvelopeAtTime("release",b))});var f=
this.options.masterReleaseEnvelope||[];f.length&&(h(f,"release",b,this.outputNode,this.options.masterVolume),c=Math.max(c,f[f.length-1].t));d(this.outputNode,b+c/1E3,0)};c.stopRampTime=.012;return c}();"";return f});r(a,"Extensions/Sonification/InstrumentPresets.js",[],function(){"";return{piano:{masterVolume:.45,masterAttackEnvelope:[{t:1,vol:.71},{t:40,vol:.79},{t:82,vol:.64},{t:147,vol:.29},{t:260,vol:.15},{t:417,vol:.05},{t:589,vol:0}],eq:[{frequency:200,Q:.7,gain:6},{frequency:450,gain:6},{frequency:1300,
gain:2},{frequency:2600,Q:.8,gain:8},{frequency:3500,Q:.8,gain:6},{frequency:6200,Q:.8,gain:10},{frequency:8E3,gain:-23},{frequency:1E4,Q:.4,gain:-12}],oscillators:[{type:"pulse",volume:.5,pulseWidth:.55,volumePitchTrackingMultiplier:.1,lowpass:{frequency:4.5,frequencyPitchTrackingMultiplier:900,Q:-2},highpass:{frequency:270},attackEnvelope:[{t:1,vol:1}],releaseEnvelope:[{t:1,vol:1},{t:282,vol:.64},{t:597,vol:0}]},{type:"whitenoise",volume:.8,lowpass:{frequency:400},highpass:{frequency:300},attackEnvelope:[{t:1,
vol:1},{t:19,vol:0}]}]},plucked:{masterVolume:.5,midiInstrument:25,masterAttackEnvelope:[{t:1,vol:.71},{t:4,vol:.71},{t:31,vol:.4},{t:109,vol:.12},{t:234,vol:.04},{t:442,vol:0}],eq:[{frequency:800,gain:-8},{frequency:1400,Q:4,gain:4},{frequency:1600,gain:-14},{frequency:2200,gain:-8},{frequency:3600,gain:-2},{frequency:6400,Q:2,gain:-6}],oscillators:[{type:"sawtooth",volume:.9,volumePitchTrackingMultiplier:.6,highpass:{frequency:100},lowpass:{frequency:8E3},releaseEnvelope:[{t:1,vol:1},{t:315,vol:.56},
{t:550,vol:0}]}]},flute:{masterVolume:1.1,midiInstrument:74,noteGlideDuration:30,masterAttackEnvelope:[{t:0,vol:0},{t:29,vol:1},{t:76,vol:.48},{t:600,vol:.36}],masterReleaseEnvelope:[{t:1,vol:.36},{t:24,vol:.15},{t:119,vol:0}],eq:[{frequency:150,Q:.6,gain:-10},{frequency:500,gain:4},{frequency:1100,gain:-4},{frequency:2200,gain:-14},{frequency:5E3,gain:8},{frequency:6400,gain:10},{frequency:8E3,gain:12},{frequency:10800,gain:8}],oscillators:[{type:"triangle",volume:1,volumePitchTrackingMultiplier:.4,
lowpass:{frequency:12,frequencyPitchTrackingMultiplier:100},highpass:{frequency:200}},{type:"sine",fixedFrequency:5,volume:.2,vmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:48,vol:0},{t:225,vol:.05},{t:600,vol:.77}]},{type:"whitenoise",volume:.13,lowpass:{frequency:9E3,Q:3},highpass:{frequency:6E3,Q:3},vmOscillator:0,attackEnvelope:[{t:0,vol:0},{t:26,vol:1},{t:93,vol:.8}]}]},lead:{masterVolume:1,midiInstrument:20,masterAttackEnvelope:[{t:1,vol:.81},{t:98,vol:.5},{t:201,vol:.18},{t:377,vol:.04},{t:586,
vol:0},{t:586,vol:0}],eq:[{frequency:200,gain:-6},{frequency:400,gain:-8},{frequency:800,Q:.5,gain:-10},{frequency:1200,gain:4},{frequency:3600,gain:-4},{frequency:4200,gain:-12},{frequency:7400,gain:-14},{frequency:1E4,gain:2}],oscillators:[{type:"triangle",volume:1.1,volumePitchTrackingMultiplier:.6,lowpass:{frequency:5E3},highpass:{frequency:100}},{type:"sawtooth",volume:.4,lowpass:{frequency:7E3},highpass:{frequency:800,Q:6},releaseEnvelope:[{t:0,vol:.99},{t:200,vol:.83},{t:495,vol:0}]}]},vibraphone:{masterVolume:1,
midiInstrument:12,masterAttackEnvelope:[{t:1,vol:0},{t:10,vol:.63},{t:82,vol:.64},{t:149,vol:.26},{t:600,vol:0}],eq:[{frequency:200,Q:.8,gain:-12},{frequency:400,gain:-4},{frequency:1600,Q:.5,gain:6},{frequency:2200,Q:.5,gain:6},{frequency:6400,gain:4},{frequency:12800,gain:4}],oscillators:[{type:"sine",volume:1.5,volumePitchTrackingMultiplier:1e-7,attackEnvelope:[{t:1,vol:1}],releaseEnvelope:[{t:1,vol:1},{t:146,vol:.39},{t:597,vol:0}]},{type:"whitenoise",volume:.03,volumePitchTrackingMultiplier:.0001,
lowpass:{frequency:900},highpass:{frequency:800},attackEnvelope:[{t:1,vol:1},{t:9,vol:0}]},{type:"sine",freqMultiplier:4,volume:.15,volumePitchTrackingMultiplier:.0001},{type:"sine",fixedFrequency:3,volume:6,fmOscillator:0,releaseEnvelope:[{t:1,vol:1},{t:190,vol:.41},{t:600,vol:0}]},{type:"sine",fixedFrequency:6,volume:3,fmOscillator:2},{type:"sine",freqMultiplier:9,volume:.0005,volumePitchTrackingMultiplier:.0001,releaseEnvelope:[{t:1,vol:.97},{t:530,vol:0}]}]},saxophone:{masterVolume:1,midiInstrument:67,
noteGlideDuration:10,masterAttackEnvelope:[{t:1,vol:.57},{t:35,vol:1},{t:87,vol:.84},{t:111,vol:.6},{t:296,vol:.49},{t:600,vol:.58}],masterReleaseEnvelope:[{t:1,vol:.58},{t:47,vol:.16},{t:119,vol:0}],eq:[{frequency:200,gain:-2},{frequency:600,gain:2},{frequency:800,gain:-10},{frequency:1100,gain:-2},{frequency:2200,gain:-2},{frequency:3500,gain:10},{frequency:12800,gain:4}],oscillators:[{type:"sawtooth",volume:.45,volumePitchTrackingMultiplier:.06,lowpass:{frequency:18,frequencyPitchTrackingMultiplier:200},
highpass:{frequency:300}},{type:"whitenoise",fixedFrequency:1,volume:.4,highpass:{frequency:7E3},vmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:51,vol:1},{t:86,vol:.84},{t:500,vol:.78}]},{type:"sine",fixedFrequency:4,volume:2,fmOscillator:0,attackEnvelope:[{t:0,vol:0},{t:15,vol:.94},{t:79,vol:1},{t:172,vol:.47},{t:500,vol:.26}]},{type:"sine",fixedFrequency:7,volume:6,fmOscillator:0,attackEnvelope:[{t:0,vol:0},{t:25,vol:.99},{t:85,vol:0},{t:85,vol:0},{t:387,vol:.02},{t:511,vol:.43},{t:600,vol:0}]}]},
trumpet:{masterVolume:.3,midiInstrument:57,noteGlideDuration:40,masterAttackEnvelope:[{t:1,vol:0},{t:17,vol:1},{t:42,vol:.85},{t:76,vol:1},{t:202,vol:.65},{t:226,vol:.86},{t:282,vol:.63}],masterReleaseEnvelope:[{t:1,vol:.62},{t:34,vol:.14},{t:63,vol:.21},{t:96,vol:0}],eq:[{frequency:200,Q:.6,gain:10},{frequency:600,Q:.5,gain:6},{frequency:1500,Q:.7,gain:14},{frequency:3200,Q:2,gain:8},{frequency:3800,Q:.8,gain:10},{frequency:6200,gain:12},{frequency:8400,gain:-20},{frequency:12800,Q:.5,gain:-18}],
oscillators:[{type:"sawtooth",volume:.15,pulseWidth:.5,volumePitchTrackingMultiplier:.5,lowpass:{frequency:1900,Q:3}},{type:"sine",fixedFrequency:6,volume:.2,vmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:102,vol:.13},{t:556,vol:.24}]},{type:"whitenoise",volume:.45,highpass:{frequency:7E3,Q:9},vmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:89,vol:.51},{t:577,vol:.29}]},{type:"sine",fixedFrequency:5.7,volume:20,fmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:89,vol:1},{t:137,vol:.46},{t:283,vol:.15},{t:600,
vol:.28}]}]},sawsynth:{masterVolume:.3,midiInstrument:51,noteGlideDuration:40,masterAttackEnvelope:[{t:0,vol:.6},{t:9,vol:1},{t:102,vol:.48}],eq:[{frequency:200,gain:-6}],oscillators:[{type:"sawtooth",volume:.4,volumePitchTrackingMultiplier:.3},{type:"sawtooth",volume:.4,detune:11,volumePitchTrackingMultiplier:.3},{type:"sawtooth",volume:.4,detune:-11,volumePitchTrackingMultiplier:.3}]},basic1:{masterVolume:1,noteGlideDuration:0,masterReleaseEnvelope:[{t:1,vol:.36},{t:24,vol:.15},{t:119,vol:0}],eq:[{frequency:150,
Q:.6,gain:-12},{frequency:1100,gain:-2},{frequency:2200,gain:-16},{frequency:5E3,gain:8},{frequency:6400,gain:10},{frequency:8E3,gain:12},{frequency:10800,gain:8}],oscillators:[{type:"triangle",volume:1,volumePitchTrackingMultiplier:.05,lowpass:{frequency:17,frequencyPitchTrackingMultiplier:100},highpass:{frequency:200}},{type:"whitenoise",volume:.04,lowpass:{frequency:9E3,Q:3},highpass:{frequency:6E3,Q:3},vmOscillator:0,attackEnvelope:[{t:0,vol:0},{t:26,vol:1},{t:71,vol:.73}]}]},basic2:{masterVolume:.3,
eq:[{frequency:200,Q:.7,gain:6},{frequency:450,gain:2},{frequency:1300,gain:-2},{frequency:2600,Q:.8,gain:6},{frequency:3500,Q:.8,gain:6},{frequency:6200,Q:.8,gain:10},{frequency:8E3,gain:-18},{frequency:1E4,Q:.4,gain:-12}],oscillators:[{type:"pulse",volume:.4,pulseWidth:.55,volumePitchTrackingMultiplier:.1,lowpass:{frequency:4.5,frequencyPitchTrackingMultiplier:900,Q:-2},highpass:{frequency:270}}]},chord:{masterVolume:1,masterAttackEnvelope:[{t:1,vol:.79},{t:27,vol:.86},{t:62,vol:.81},{t:150,vol:.35},
{t:408,vol:.04},{t:600,vol:0}],eq:[{frequency:200,gain:-8},{frequency:600,Q:2,gain:4},{frequency:800,gain:-10},{frequency:1600,gain:-2},{frequency:2200,gain:-6},{frequency:3600,Q:.7,gain:-2},{frequency:6400,gain:6},{frequency:12800,gain:6}],oscillators:[{type:"triangle",volume:1.1,volumePitchTrackingMultiplier:.05,lowpass:{frequency:8E3},highpass:{frequency:100},releaseEnvelope:[{t:1,vol:1},{t:315,vol:.56},{t:540,vol:0}]},{type:"triangle",freqMultiplier:1.17,volume:.4,volumePitchTrackingMultiplier:.07,
lowpass:{frequency:5E3},highpass:{frequency:100},releaseEnvelope:[{t:0,vol:1},{t:476,vol:0}]},{type:"triangle",freqMultiplier:1.58333,volume:.7,volumePitchTrackingMultiplier:.02,highpass:{frequency:200},releaseEnvelope:[{t:0,vol:1},{t:422,vol:.56},{t:577,vol:0}]},{type:"sine",fixedFrequency:10,volume:4,fmOscillator:0,attackEnvelope:[{t:1,vol:1},{t:157,vol:.65}]},{type:"sine",fixedFrequency:5,volume:.3,vmOscillator:2,attackEnvelope:[{t:1,vol:1},{t:155,vol:.91},{t:289,vol:.78}]}]},wobble:{masterVolume:.9,
masterReleaseEnvelope:[{t:1,vol:.36},{t:24,vol:.15},{t:119,vol:0}],eq:[{frequency:150,Q:.6,gain:-12},{frequency:1100,gain:-2},{frequency:2200,gain:-16},{frequency:5E3,gain:8},{frequency:6400,gain:10},{frequency:8E3,gain:12},{frequency:10800,gain:8}],oscillators:[{type:"triangle",volume:.9,volumePitchTrackingMultiplier:.1,lowpass:{frequency:17,frequencyPitchTrackingMultiplier:100},highpass:{frequency:200}},{type:"whitenoise",volume:.04,lowpass:{frequency:9E3,Q:3},highpass:{frequency:6E3,Q:3},vmOscillator:0,
attackEnvelope:[{t:0,vol:0},{t:26,vol:1},{t:71,vol:.73}]},{type:"sine",freqMultiplier:.011,volume:30,fmOscillator:0}]},sine:{masterVolume:1,oscillators:[{type:"sine",volumePitchTrackingMultiplier:.07}]},sineGlide:{masterVolume:1,noteGlideDuration:100,oscillators:[{type:"sine",volumePitchTrackingMultiplier:.07}]},triangle:{masterVolume:.5,oscillators:[{type:"triangle",volume:1,volumePitchTrackingMultiplier:.07}]},sawtooth:{masterVolume:.25,midiInstrument:82,oscillators:[{type:"sawtooth",volume:.3,
volumePitchTrackingMultiplier:.07}]},square:{masterVolume:.3,midiInstrument:81,oscillators:[{type:"square",volume:.2,volumePitchTrackingMultiplier:.07}]},chop:{masterVolume:1,midiInstrument:116,masterAttackEnvelope:[{t:1,vol:1},{t:44,vol:0}],oscillators:[{type:"whitenoise",volume:1,lowpass:{frequency:600},highpass:{frequency:200}}]},shaker:{masterVolume:.4,midiInstrument:116,masterAttackEnvelope:[{t:1,vol:1},{t:44,vol:0}],oscillators:[{type:"whitenoise",volume:1,lowpass:{frequency:6500},highpass:{frequency:5E3}}]},
step:{masterVolume:1,midiInstrument:116,masterAttackEnvelope:[{t:1,vol:1},{t:44,vol:0}],eq:[{frequency:200,gain:-1},{frequency:400,gain:-14},{frequency:800,gain:8},{frequency:1E3,Q:5,gain:-24},{frequency:1600,gain:8},{frequency:2200,gain:-10},{frequency:5400,gain:4},{frequency:12800,gain:-36}],oscillators:[{type:"whitenoise",volume:1.5,lowpass:{frequency:300},highpass:{frequency:100,Q:6}}]},kick:{masterVolume:.55,masterAttackEnvelope:[{t:1,vol:.8},{t:15,vol:1},{t:45,vol:.35},{t:121,vol:.11},{t:242,
vol:0}],eq:[{frequency:50,gain:6},{frequency:400,gain:-18},{frequency:1600,gain:18}],oscillators:[{type:"triangle",fixedFrequency:90,volume:1,lowpass:{frequency:300},attackEnvelope:[{t:1,vol:1},{t:6,vol:1},{t:45,vol:.01}]},{type:"whitenoise",volume:.4,lowpass:{frequency:200},attackEnvelope:[{t:1,vol:1},{t:30,vol:0}]},{type:"triangle",freqMultiplier:.1,volume:1,lowpass:{frequency:200}}]},shortnote:{masterVolume:.8,midiInstrument:116,masterAttackEnvelope:[{t:1,vol:1},{t:15,vol:0}],eq:[{frequency:400,
gain:-4},{frequency:800,gain:-12},{frequency:2400,gain:4},{frequency:7200,gain:-20},{frequency:1E3,Q:5,gain:-12},{frequency:5400,gain:-32},{frequency:12800,gain:-14}],oscillators:[{type:"sawtooth",volume:.6,lowpass:{frequency:1E3}},{type:"whitenoise",volume:.2,lowpass:{frequency:1E4},highpass:{frequency:7E3},attackEnvelope:[{t:1,vol:1},{t:10,vol:0}]},{type:"whitenoise",volume:1.3,lowpass:{frequency:700,Q:4},highpass:{frequency:250}}]},noise:{masterVolume:.3,midiInstrument:122,oscillators:[{type:"whitenoise"}]},
filteredNoise:{masterVolume:.3,midiInstrument:122,eq:[{frequency:1600,gain:-8},{frequency:2200,gain:-4}],oscillators:[{type:"whitenoise",lowpass:{frequency:5,frequencyPitchTrackingMultiplier:1300,Q:6},highpass:{frequency:5,frequencyPitchTrackingMultiplier:300,Q:6}}]},wind:{masterVolume:.75,midiInstrument:122,noteGlideDuration:150,masterReleaseEnvelope:[{t:0,vol:1},{t:124,vol:.24},{t:281,vol:0}],oscillators:[{type:"whitenoise",volume:1,lowpass:{frequency:100,frequencyPitchTrackingMultiplier:6,Q:23},
highpass:{frequency:170,frequencyPitchTrackingMultiplier:6}},{type:"sine",freqMultiplier:.016,volume:1E3,fmOscillator:0}]}}});r(a,"Extensions/Sonification/SonificationInstrument.js",[a["Extensions/Sonification/SynthPatch.js"],a["Extensions/Sonification/InstrumentPresets.js"],a["Core/Utilities.js"]],function(a,n,d){var h=d.defined,t=d.extend;d=function(){function d(e,d,k){this.audioContext=e;this.curParams={};this.midiTrackName=k.midiTrackName;this.masterVolNode=new GainNode(e);this.masterVolNode.connect(d);
this.volumeNode=new GainNode(e);this.createNodesFromCapabilities(t({pan:!0},k.capabilities||{}));this.connectCapabilityNodes(this.volumeNode,this.masterVolNode);this.synthPatch=new a(e,"string"===typeof k.synthPatch?n[k.synthPatch]:k.synthPatch);this.midiInstrument=this.synthPatch.midiInstrument||1;this.synthPatch.startSilently();this.synthPatch.connect(this.volumeNode)}d.prototype.setMasterVolume=function(e){this.masterVolNode.gain.setTargetAtTime(e,0,d.rampTime)};d.prototype.scheduleEventAtTime=
function(e,a){var k=t(this.curParams,a);a=h(a.frequency)?a.frequency:h(a.note)?d.musicalNoteToFrequency(a.note):220;h(a)&&this.synthPatch.playFreqAtTime(e,a,k.noteDuration);(h(k.tremoloDepth)||h(k.tremoloSpeed))&&this.setTremoloAtTime(e,k.tremoloDepth,k.tremoloSpeed);h(k.pan)&&this.setPanAtTime(e,k.pan);h(k.volume)&&this.setVolumeAtTime(e,k.volume);(h(k.lowpassFreq)||h(k.lowpassResonance))&&this.setFilterAtTime("lowpass",e,k.lowpassFreq,k.lowpassResonance);(h(k.highpassFreq)||h(k.highpassResonance))&&
this.setFilterAtTime("highpass",e,k.highpassFreq,k.highpassResonance)};d.prototype.silenceAtTime=function(e){this.synthPatch.silenceAtTime(e)};d.prototype.cancel=function(){this.synthPatch.mute();[this.tremoloDepth&&this.tremoloDepth.gain,this.tremoloOsc&&this.tremoloOsc.frequency,this.lowpassNode&&this.lowpassNode.frequency,this.lowpassNode&&this.lowpassNode.Q,this.highpassNode&&this.highpassNode.frequency,this.highpassNode&&this.highpassNode.Q,this.panNode&&this.panNode.pan,this.volumeNode.gain].forEach(function(e){return e&&
e.cancelScheduledValues(0)})};d.prototype.destroy=function(){this.cancel();this.synthPatch.stop();this.tremoloOsc&&this.tremoloOsc.stop();[this.tremoloDepth,this.tremoloOsc,this.lowpassNode,this.highpassNode,this.panNode,this.volumeNode,this.masterVolNode].forEach(function(e){return e&&e.disconnect()})};d.prototype.setPanAtTime=function(e,a){this.panNode&&this.panNode.pan.setTargetAtTime(a,e+this.audioContext.currentTime,d.rampTime)};d.prototype.setFilterAtTime=function(e,a,k,q){e=this[e+"Node"];
a=this.audioContext.currentTime+a;e&&(h(q)&&e.Q.setTargetAtTime(q,a,d.rampTime),h(k)&&e.frequency.setTargetAtTime(k,a,d.rampTime))};d.prototype.setVolumeAtTime=function(e,a){this.volumeNode&&this.volumeNode.gain.setTargetAtTime(a,e+this.audioContext.currentTime,d.rampTime)};d.prototype.setTremoloAtTime=function(e,a,k){e=this.audioContext.currentTime+e;this.tremoloDepth&&h(a)&&this.tremoloDepth.gain.setTargetAtTime(a,e,d.rampTime);this.tremoloOsc&&h(k)&&this.tremoloOsc.frequency.setTargetAtTime(15*
k,e,d.rampTime)};d.prototype.createNodesFromCapabilities=function(e){var a=this.audioContext;e.pan&&(this.panNode=new StereoPannerNode(a));e.tremolo&&(this.tremoloOsc=new OscillatorNode(a,{type:"sine",frequency:3}),this.tremoloDepth=new GainNode(a),this.tremoloOsc.connect(this.tremoloDepth),this.tremoloDepth.connect(this.masterVolNode.gain),this.tremoloOsc.start());e.filters&&(this.lowpassNode=new BiquadFilterNode(a,{type:"lowpass",frequency:2E4}),this.highpassNode=new BiquadFilterNode(a,{type:"highpass",
frequency:0}))};d.prototype.connectCapabilityNodes=function(e,a){[this.panNode,this.lowpassNode,this.highpassNode,e].reduce(function(e,a){return a?(a.connect(e),a):e},a)};d.noteStringToC0Distance=function(e){var a=e.match(/^([a-g][#b]?)([0-8])$/i),d=a?a[1]:"a";e=d[0].toLowerCase();d=d[1];a=a?parseInt(a[2],10):4;return({c:0,d:2,e:4,f:5,g:7,a:9,b:11}[e]||0)+("#"===d?1:"b"===d?-1:0)+12*a};d.musicalNoteToFrequency=function(e){e="string"===typeof e?this.noteStringToC0Distance(e):e;return 16.3516*Math.pow(2,
Math.min(e,107)/12)};d.rampTime=a.stopRampTime/4;return d}();"";return d});r(a,"Extensions/Sonification/SonificationSpeaker.js",[a["Core/Utilities.js"]],function(a){var n=a.pick;a=function(){function a(a){this.options=a;this.masterVolume=1;this.synthesis=window.speechSynthesis;"undefined"!==typeof speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=this.setVoice.bind(this));this.setVoice();this.scheduled=[]}a.prototype.say=function(a,d){this.synthesis&&(this.synthesis.cancel(),a=new SpeechSynthesisUtterance(a),
this.voice&&(a.voice=this.voice),a.rate=d&&d.rate||this.options.rate||1,a.pitch=d&&d.pitch||this.options.pitch||1,a.volume=n(d&&d.volume,this.options.volume,1)*this.masterVolume,this.synthesis.speak(a))};a.prototype.sayAtTime=function(a,d,n){this.scheduled.push(setTimeout(this.say.bind(this,d,n),a))};a.prototype.cancel=function(){this.scheduled.forEach(clearTimeout);this.scheduled=[];this.synthesis.cancel()};a.prototype.destroy=function(){this.cancel()};a.prototype.setMasterVolume=function(a){this.masterVolume=
a};a.prototype.setVoice=function(){if(this.synthesis){for(var a=this.options.name,d=this.options.language||"en-US",n=this.synthesis.getVoices(),e=n.length,t=void 0,k=0;k<e;++k){if(a&&n[k].name===a){this.voice=n[k];return}if(!t&&n[k].lang===d&&(t=n[k],!a))break}this.voice=t}};return a}();"";return a});r(a,"Extensions/Sonification/TimelineChannel.js",[],function(){var a=function(){function a(a,h,n,t,e){void 0===n&&(n=!1);this.type=a;this.engine=h;this.showPlayMarker=n;this.muted=e;this.events=t||[]}
a.prototype.addEvent=function(a){var d=this.events[this.events.length-1];if(d&&a.time<d.time){for(d=this.events.length;d--&&this.events[d].time>a.time;);this.events.splice(d+1,0,a)}else this.events.push(a);return a};a.prototype.mute=function(){this.muted=!0};a.prototype.unmute=function(){this.muted=!1};a.prototype.cancel=function(){this.engine.cancel()};a.prototype.destroy=function(){this.engine.destroy()};return a}();"";return a});r(a,"Extensions/Sonification/MIDI.js",[a["Extensions/Sonification/SonificationInstrument.js"],
a["Core/Utilities.js"]],function(a,n){function d(a,f,c,b){var e=0;c=h(c,b);a=t(a).reduce(function(b,c){var a=x(c.timeMS-e);e=c.timeMS;return b.concat(a,c.data)},[]);b=[0,255,47,0];var g=(f?k.length:0)+c.length+a.length+b.length;return[77,84,114,107,g>>>24&255,g>>>16&255,g>>>8&255,g>>>0&255].concat(f?k:[],c,a,b)}function h(a,f){var c=[];f&&c.push(0,192,f&127);if(a){f=[];for(var b=0;b<a.length;++b){var e=a.charCodeAt(b);128>e&&f.push(e)}return c.concat([0,255,3],x(f.length),f)}return c}function t(e){function f(b){for(var c=
d.length;c--&&d[c].timeMS>b.timeMS;);d.splice(c+1,0,b)}var c,b,d=[];e.forEach(function(e){var d=e.instrumentEventOptions||{},g=e.time,p=b=z(d.noteDuration,b);e=p&&e.time+p;p=[{valMap:function(b){return 64+63*b&127},data:{10:d.pan,92:d.tremoloDepth,93:d.tremoloSpeed}},{valMap:function(b){return 127*b/2E4&127},data:{74:d.lowpassFreq,75:d.highpassFreq}},{valMap:function(b){return 63*Math.min(18,Math.max(-18,b))/18+63&127},data:{71:d.lowpassResonance,76:d.highpassResonance}}];var q=c=void 0===d.volume?
z(c,127):127*d.volume&127,l=d.frequency;d=d.note||0;d=12+(l?Math.round(12*Math.log(l)/Math.LN2-48.37632):"string"===typeof d?a.noteStringToC0Distance(d):d)&127;p.forEach(function(b){return Object.keys(b.data).forEach(function(c){var a=b.data[c];void 0!==a&&f({timeMS:g,type:"CTRL_CHG",data:[176,parseInt(c,10),b.valMap(a)]})})});e&&(f({timeMS:g,type:"NON",data:[144,d,q]}),f({timeMS:e,type:"NOF",data:[128,d,q]}))});return d}function x(a){for(var f=a&127,c=[];a>>=7;)f<<=8,f|=a&127|128;for(;;)if(c.push(f&
255),f&128)f>>=8;else break;return c}function e(a){return[77,84,104,100,0,0,0,6,0,1<a?1:0,a>>>8&255,a>>>0&255,1,244]}var z=n.pick,k=[0,255,81,3,7,161,32];return function(a){a=a.filter(function(b){return!!b.events.length});var f=a.length,c=1<f;return new Uint8Array(e(c?f+1:f).concat(c?d([],!0):[],a.reduce(function(b,a){var f=a.engine;return b.concat(d(a.events,!c,f.midiTrackName,f.midiInstrument))},[])))}});r(a,"Extensions/DownloadURL.js",[a["Core/Globals.js"]],function(a){var n=a.isSafari,d=a.win,
h=d.document,t=d.URL||d.webkitURL||d,x=a.dataURLtoBlob=function(a){if((a=a.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([0-9A-Za-z+/]+)/))&&3<a.length&&d.atob&&d.ArrayBuffer&&d.Uint8Array&&d.Blob&&t.createObjectURL){var e=d.atob(a[3]),k=new d.ArrayBuffer(e.length);k=new d.Uint8Array(k);for(var q=0;q<k.length;++q)k[q]=e.charCodeAt(q);a=new d.Blob([k],{type:a[1]});return t.createObjectURL(a)}};a=a.downloadURL=function(a,t){var e=d.navigator,q=h.createElement("a");if("string"===typeof a||
a instanceof String||!e.msSaveOrOpenBlob){a="".concat(a);e=/Edge\/\d+/.test(e.userAgent);if(n&&"string"===typeof a&&0===a.indexOf("data:application/pdf")||e||2E6<a.length)if(a=x(a)||"",!a)throw Error("Failed to convert to blob");if("undefined"!==typeof q.download)q.href=a,q.download=t,h.body.appendChild(q),q.click(),h.body.removeChild(q);else try{var f=d.open(a,"chart");if("undefined"===typeof f||null===f)throw Error("Failed to open window");}catch(c){d.location.href=a}}else e.msSaveOrOpenBlob(a,
t)};return{dataURLtoBlob:x,downloadURL:a}});r(a,"Extensions/Sonification/SonificationTimeline.js",[a["Extensions/Sonification/TimelineChannel.js"],a["Extensions/Sonification/MIDI.js"],a["Extensions/DownloadURL.js"],a["Core/Utilities.js"]],function(a,n,d,h){function t(e,f){f=f.map(function(b){b.cancel();return{channel:b,filteredEvents:b.muted?[]:b.events.filter(e)}});var c=f.reduce(function(b,a){return Math.min(b,a.filteredEvents.length?a.filteredEvents[0].time:Infinity)},Infinity);return f.map(function(b){return new a(b.channel.type,
b.channel.engine,b.channel.showPlayMarker,b.filteredEvents.map(function(a){return k(a,{time:a.time-c})}),b.channel.muted)})}var x=d.downloadURL,e=h.defined,r=h.find,k=h.merge;d=function(){function d(a,c){this.chart=c;this.isPlaying=this.isPaused=!1;this.channels=[];this.scheduledCallbacks=[];this.resumeFromTime=this.playTimestamp=0;this.options=a||{}}d.prototype.addChannel=function(f,c,b,d){void 0===b&&(b=!1);if("instrument"===f&&!c.scheduleEventAtTime||"speech"===f&&!c.sayAtTime)throw Error("Highcharts Sonification: Invalid channel engine.");
f=new a(f,c,b,d);this.channels.push(f);return f};d.prototype.play=function(a,c,b,d){function f(a){return Object.keys(a.speechOptions||{}).concat(Object.keys(a.instrumentEventOptions||{})).join()}var e=this;void 0===c&&(c=!0);void 0===b&&(b=!0);this.isPlaying?this.cancel():this.clearScheduledCallbacks();this.onEndArgument=d;this.playTimestamp=Date.now();this.resumeFromTime=0;this.isPaused=!1;this.isPlaying=!0;var k=this.options.skipThreshold||2,p=this.options.onPlay,L=this.options.showTooltip,l=this.options.showCrosshair;
a=a?t(a,this.playingChannels||this.channels):this.channels;var v=[];c&&(this.playingChannels=a);p&&p({chart:this.chart,timeline:this});var h=0;a.forEach(function(a){if(!a.muted){var b=a.events.length,c=-Infinity,d=-Infinity,g="";h=Math.max(a.events[b-1]&&a.events[b-1].time||0,h);for(var y=function(y){var m=a.events[y],w=f(m);if(w===g&&m.time-d<k)return"continue";g=w;d=m.time;"instrument"===a.type?a.engine.scheduleEventAtTime(m.time/1E3,m.instrumentEventOptions||{}):a.engine.sayAtTime(m.time,m.message||
"",m.speechOptions||{});var u=m.relatedPoint,G=u&&u.series&&u.series.chart;y=m.callback||u&&(L||l)&&!1!==a.showPlayMarker&&(50<m.time-c||y===b-1);u&&v.push(u);y&&(e.scheduledCallbacks.push(setTimeout(function(){m.callback&&m.callback();if(u){if(l){var a=u.series;a&&a.xAxis&&a.xAxis.crosshair&&a.xAxis.drawCrosshair(void 0,u);a&&a.yAxis&&a.yAxis.crosshair&&a.yAxis.drawCrosshair(void 0,u)}if(L&&!(G&&G.hoverPoints&&1<G.hoverPoints.length&&r(G.hoverPoints,function(a){return a===u})&&u.onMouseOver))u.onMouseOver()}},
m.time)),c=m.time)},u=0;u<b;++u)y(u)}});var n=this.options.onEnd,q=this.options.onStop;this.scheduledCallbacks.push(setTimeout(function(){var a=e.chart,c={chart:a,timeline:e,pointsPlayed:v};e.isPlaying=!1;b&&e.resetPlayState();q&&q(c);n&&n(c);d&&d(c);if(a){a.tooltip&&a.tooltip.hide(0);if(a.hoverSeries)a.hoverSeries.onMouseOut();a.axes.forEach(function(a){return a.hideCrosshair()})}},h+250));this.resumeFromTime=c?h:this.getLength()};d.prototype.pause=function(){this.isPaused=!0;this.cancel();return this.resumeFromTime=
Date.now()-this.playTimestamp-10};d.prototype.getCurrentTime=function(){return this.isPlaying?Date.now()-this.playTimestamp:this.resumeFromTime};d.prototype.getLength=function(){return this.channels.reduce(function(a,c){return(c=c.events[c.events.length-1])?Math.max(c.time,a):a},0)};d.prototype.resume=function(){if(this.playingChannels){var a=this.resumeFromTime-50;this.play(function(c){return c.time>a},!1,!1,this.onEndArgument);this.playTimestamp-=a}else this.play(void 0,!1,!1,this.onEndArgument)};
d.prototype.anchorPlayMoment=function(a,c){this.isPlaying&&this.pause();var b=0;this.play(function(c,d,f){(d=a(c,d,f))&&c.time>b&&(b=c.time);return d},!1,!1,c);this.playingChannels=this.playingChannels||this.channels;this.isPaused=!0;this.isPlaying=!1;this.resumeFromTime=b};d.prototype.playAdjacent=function(a,c,b,d){this.isPlaying&&this.pause();var e=this.resumeFromTime,f=this.channels.reduce(function(b,c){c=d?c.events.filter(d):c.events;for(var f=0,l=c.length;f<l;){var g=f+l>>1,k=c[g].time,h=k-e;
0<h?(a&&k<b&&(b=k),l=g):0>h?(!a&&k>b&&(b=k),f=g+1):a?f=g+1:l=g}return b},a?Infinity:-Infinity);Infinity===f||-Infinity===f?b&&b({chart:this.chart,timeline:this,attemptedNext:a}):this.anchorPlayMoment(function(b,c,g){var l=a?b.time>e&&b.time<=f+.02:b.time<e&&b.time>=f-.02;return d?l&&d(b,c,g):l},c)};d.prototype.playClosestToPropValue=function(a,c,b,d,g){var f=Infinity,k=null;(this.playingChannels||this.channels).forEach(function(b){b=b.events;for(var d=b.length;d--;){var l=b[d];if(g?g(l,d,b)&&l.relatedPoint:
l.relatedPoint)l=b[d].relatedPoint[a],l=e(l)&&Math.abs(c-l),!1!==l&&l<f&&(f=l,k=b[d])}});k?(this.play(function(a){return!!(k&&a.time<k.time+1&&a.time>k.time-1&&a.relatedPoint===k.relatedPoint)},!1,!1,b),this.playingChannels=this.playingChannels||this.channels,this.isPaused=!0,this.isPlaying=!1,this.resumeFromTime=k.time):d&&d({chart:this.chart,timeline:this})};d.prototype.getEventsForPoint=function(a){return this.channels.reduce(function(c,b){b=b.events.filter(function(b){return b.relatedPoint===
a});return c.concat(b)},[])};d.prototype.playSegment=function(a,c){var b=Infinity,d=-Infinity;this.channels.forEach(function(a){a.events.length&&(b=Math.min(a.events[0].time,b),d=Math.max(a.events[a.events.length-1].time,d))});if(Infinity>b){var f=(d-b)/100,e=b+a*f,k=e+f;this.channels.some(function(a){a=a.events;for(var b=0,c=a.length;b<c;){var d=b+c>>1,f=a[d].time;if(f<e)b=d+1;else if(f>k)c=d;else return!0}return!1})&&(this.play(function(a){return a.time>=e&&a.time<=k},!1,!1,c),this.playingChannels=
this.playingChannels||this.channels,this.isPaused=!0,this.isPlaying=!1,this.resumeFromTime=k)}};d.prototype.getLastPlayedPoint=function(a){var c=this.getCurrentTime(),b=Infinity,d=null;(this.playingChannels||this.channels).forEach(function(f){f=f.events.filter(function(b,d,f){return!(!(b.relatedPoint&&b.time<=c)||a&&!a(b,d,f))});if(f=f[f.length-1]){var e=Math.abs(f.time-c);e<b&&(b=e,d=f.relatedPoint)}});return d};d.prototype.reset=function(){this.isPlaying&&this.cancel();this.resetPlayState()};d.prototype.cancel=
function(){var a=this.options.onStop;a&&a({chart:this.chart,timeline:this});this.isPlaying=!1;this.channels.forEach(function(a){return a.cancel()});this.playingChannels&&this.playingChannels!==this.channels&&this.playingChannels.forEach(function(a){return a.cancel()});this.clearScheduledCallbacks();this.resumeFromTime=0};d.prototype.destroy=function(){this.cancel();this.playingChannels&&this.playingChannels!==this.channels&&this.playingChannels.forEach(function(a){return a.destroy()});this.channels.forEach(function(a){return a.destroy()})};
d.prototype.setMasterVolume=function(a){this.channels.forEach(function(c){return c.engine.setMasterVolume(a)})};d.prototype.getMIDIData=function(){return n(this.channels.filter(function(a){return"instrument"===a.type}))};d.prototype.downloadMIDI=function(a){var c=this.getMIDIData();a=(a||this.chart&&this.chart.options.title&&this.chart.options.title.text||"chart")+".mid";c=new Blob([c],{type:"application/octet-stream"});c=window.URL.createObjectURL(c);x(c,a);window.URL.revokeObjectURL(c)};d.prototype.resetPlayState=
function(){delete this.playingChannels;delete this.onEndArgument;this.playTimestamp=this.resumeFromTime=0;this.isPaused=!1};d.prototype.clearScheduledCallbacks=function(){this.scheduledCallbacks.forEach(clearTimeout);this.scheduledCallbacks=[]};return d}();"";return d});r(a,"Extensions/Sonification/TimelineFromChart.js",[a["Extensions/Sonification/SonificationTimeline.js"],a["Extensions/Sonification/SonificationInstrument.js"],a["Extensions/Sonification/SonificationSpeaker.js"],a["Core/Utilities.js"],
a["Core/Templating.js"]],function(a,n,d,h,r){function t(a,b){if(b){var c=a[b];if("number"===typeof c)return c;c=H(b,a)}return"number"===typeof c?c:void 0}function e(a,b,c){function d(a,b,c){var d=b[c];void 0===d&&(d=H(c,b));"number"===typeof d&&(a[c].min=Math.min(a[c].min,d),a[c].max=Math.max(a[c].max,d))}function e(a){return a.reduce(function(a,b){a[b]={min:Infinity,max:-Infinity};a;return a},{})}a=a.series;for(var f=b.length,m=c.length,y=e(b),l=a.length,g=Array(l);l--;){var k=e(c),w=a[l].options;
if(!(!a[l].visible||w&&w.sonification&&!1===w.sonification.enabled)){w=a[l].points||[];for(var D=w.length;D--;){for(var E=f;E--;)d(y,w[D],b[E]);for(E=m;E--;)d(k,w[D],c[E])}g[l]=k}}return{globalExtremes:y,seriesExtremes:g}}function z(a){function b(a){return a.forEach(function(a){v[a.valueProp||"x"]=n[a.valueProp||"x"]=!0})}function c(a,b){Object.keys(a).forEach(function(c){return d(c,a[c],b)})}function d(a,b,c){function e(a){return"-"===a.charAt(0)?a.slice(1):a}if("string"===typeof b&&"text"!==a)"pitch"===
a&&/^([a-g][#b]?)[0-8]$/i.test(b)||("time"===a&&(n[b]=!0,f(b,c)),v[e(b)]=!0);else if(b&&b.mapTo&&"string"===typeof b.mapTo){var m=e(b.mapTo);"time"===a&&f(m,c);if("time"===a||"series"===b.within)n[m]=!0;v[m]=!0}else-1<["tremolo","lowpass","highpass"].indexOf(a)&&"object"===typeof b&&Object.keys(b).forEach(function(a){return d(a,b[a],c)})}function f(a,b){null!==b?(k[b]=k[b]||{},k[b][a]=!0):h[a]=!0}var m=a.options.sonification||{},g=m.defaultSpeechOptions&&m.defaultSpeechOptions.mapping||{},k=[],h=
{},v={},n={};c((m.defaultInstrumentOptions||{}).mapping||{time:"x",pitch:"y"},null);c(g,null);b(m.globalContextTracks||[]);var t=Object.keys(h).length;a.series.forEach(function(a){var d=a.options.sonification;if(a.visible&&(!d||!1!==d.enabled)&&(t&&(k[a.index]=C(h)),d)){var e=(d.defaultInstrumentOptions||{}).mapping,f=(d.defaultSpeechOptions||{}).mapping;e&&c(e,a.index);f&&c(f,a.index);b(d.contextTracks||[]);(d.tracks||[]).concat(d.contextTracks||[]).forEach(function(b){b.mapping&&c(b.mapping,a.index)})}});
return l({seriesTimeProps:k},e(a,Object.keys(v),Object.keys(n)))}function k(a,b,c,d,e){var f=b.max-b.min;if(0>=f)return c.min;var m=c.max-c.min;f=m*(a-b.min)/f;e&&(e=0<b.min?function(a){return Math.log(a)/Math.LOG10E}:function(a){var b=Math.abs(a);10>b&&(b+=(10-b)/10);b=Math.log(b)/Math.LN10;return 0>a?-b:b},f=e(b.min),f=m*(e(a)-f)/(e(b.max)-f));return v(d?c.max-f:c.min+f,c.min,c.max)}function q(a,b,c,d,e,f){if("number"===typeof e)return e;if("function"===typeof e)return e(M({time:0},a));var m=e,
l=d.mapFunction,g=d.min,y=d.max,u=d.within;if("object"===typeof e){m=e.mapTo;l=e.mapFunction||l;g=B(e.min,g);y=B(e.max,y);u=e.within||d.within;var w=e.scale}if(!m)return null;(d="-"===m.charAt(0))&&(m=m.slice(1));var h=a.value,v="value"===m&&void 0!==h&&f;if(!v){h=e.value;if(void 0===h){if(!a.point)return null;h=a.point[m]}void 0===h&&(h=H(m,a.point))}if("number"!==typeof h||null===h)return null;e=null;a.point&&("xAxis"===u||"yAxis"===u?(a=a.point.series[u])&&A(a.dataMin)&&A(a.dataMax)&&(e={min:a.dataMin,
max:a.dataMax}):("series"===u||c)&&a.point.series&&(e=b.seriesExtremes[a.point.series.index][v?f:m]));e||(e=b.globalExtremes[v?f:m]);if(w){b=[];f=Math.ceil(y/12)+1;m=w.length;for(a=Math.floor(g/12);a<f;++a)for(c=0;c<m;++c)u=12*a+w[c],u>=g&&u<=y&&b.push(u);l=k(h,e,{min:0,max:b.length-1},d,"logarithmic"===l);return b[Math.round(l)]}return k(h,e,{min:g,max:y},d,"logarithmic"===l)}function f(a,b,c,d,e,f,l){return B(q(a,b,c,M({min:0,max:1,mapTo:"y",mapFunction:"linear",within:"chart"},f||{}),d,l),e)}function c(a,
b,c,d){var e;b-=(a.chart.series.length-1)*d;c.seriesTimeProps.every(function(a){a=Object.keys(a);if(1<a.length)return!1;e||(e=a[0]);return e===a[0]})?(a=c.seriesExtremes[a.index][e],a=a.max-a.min,c=c.seriesExtremes.reduce(function(a,b){return b[e]?a+b[e].max-b[e].min:a},0),c=Math.round(a/c*b)):(c=a.chart.series.reduce(function(a,b){return a+b.points.length},0),c=Math.round((a.points||[]).length/c*b));return Math.max(50,c)}function b(a,b,c,e){var f=e.mapping||{};b="speech"===e.type?new d({language:e.language,
name:e.preferredVoice}):new n(b,c,{capabilities:{pan:!!f.pan,tremolo:!!f.tremolo,filters:!(!f.highpass&&!f.lowpass)},synthPatch:e.instrument,midiTrackName:e.midiName});return a.addChannel(e.type||"instrument",b,B(e.showPlayMarker,!0))}function p(a,b,c,d,e,l){function g(c,m){void 0===m&&(m=0);var g=c;c.mapTo?("string"===typeof c.min&&(g.min=n.noteStringToC0Distance(c.min)),"string"===typeof c.max&&(g.max=n.noteStringToC0Distance(c.max))):"string"===typeof c&&/^([a-g][#b]?)[0-8]$/i.test(c)&&(g=n.noteStringToC0Distance(c));
h.note=f(a,d,!1,g,-1,{min:0,max:107},l);-1<h.note&&(e&&(h.note=Math.round(h.note)),k.push(b.addEvent({time:a.time+v+u*m,relatedPoint:a.point,instrumentEventOptions:void 0!==m?M({},h):h})))}function m(b,e,m,g){return f(a,d,!1,(g||c)[b],e,m,l)}var k=[],h={noteDuration:m("noteDuration",200,{min:40,max:1E3}),pan:m("pan",0,{min:-1,max:1}),volume:m("volume",1,{min:.1,max:1})};c.frequency&&(h.frequency=m("frequency",440,{min:50,max:6E3}));c.lowpass&&(h.lowpassFreq=m("frequency",2E4,{min:0,max:2E4},c.lowpass),
h.lowpassResonance=m("resonance",0,{min:-6,max:12},c.lowpass));c.highpass&&(h.highpassFreq=m("frequency",2E4,{min:0,max:2E4},c.highpass),h.highpassResonance=m("resonance",0,{min:-6,max:12},c.highpass));c.tremolo&&(h.tremoloDepth=m("depth",0,{min:0,max:.8},c.tremolo),h.tremoloSpeed=m("speed",0,{min:0,max:.8},c.tremolo));var u=m("gapBetweenNotes",150,{min:50,max:1E3}),v=m("playDelay",0,{max:200});c.pitch&&c.pitch.constructor===Array?c.pitch.forEach(g):c.pitch?g(c.pitch):c.frequency&&k.push(b.addEvent({time:a.time+
v,relatedPoint:a.point,instrumentEventOptions:h}));return k}function g(a,b){return F("function"===typeof b?b(a):b,a,a.point&&a.point.series.chart)}function J(a,b,c,d,e){function l(b,l,m){return f(a,d,!1,c[b],l,m,e)}var m=l("playDelay",0,{max:200}),k=l("pitch",1,{min:.3,max:2}),h=l("rate",1,{min:.4,max:4}),u=l("volume",1,{min:.1}),v=g(a,c.text);if(v)return b.addEvent({time:a.time+m,relatedPoint:a.point,speechOptions:{pitch:k,rate:h,volume:u},message:v})}function O(a,b,c,d){var e=[];"speech"===c.type&&
c.mapping?(a=J(a,b,c.mapping,d))&&(e=[a]):c.mapping&&(e=p(a,b,c.mapping,d,B(c.roundToMusicalNotes,!0)));return e}function K(a,b){function c(a){return b[a]?[b[a].point]:[]}var d=a.algorithm||"minmax";if("first"===d)return c(0);if("last"===d)return c(b.length-1);if("middle"===d)return c(b.length>>1);if("firstlast"===d)return c(0).concat(c(b.length-1));if("minmax"===d){var e=a.prop||"y",f,l,g,m;b.forEach(function(a){var b=t(a.point,e);if(void 0!==b){if(!f||b<g)f=a,g=b;if(!l||b>m)l=a,m=b}});if(f&&l)return f.point===
l.point?[f.point]:f.time>l.time?[l.point,f.point]:[f.point,l.point]}return[]}function L(a,b,c){if("function"===typeof b)return b(a);if("object"===typeof b){var d=b.prop;a=B(a.value,a.point&&t(a.point,d));if("number"!==typeof a)return!1;d=b.crossingUp;var e=b.crossingDown,f="number"===typeof c;c=d&&e?f&&(c<d&&a>=d||c>e&&a<=e):(void 0===d||f&&c<d&&a>=d)&&(void 0===e||f&&c>e&&a<=e);d=B(b.max,Infinity);b=B(b.min,-Infinity);return a<=d&&a>=b&&c}return!0}var l=this&&this.__assign||function(){l=Object.assign||
function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return l.apply(this,arguments)},v=h.clamp,A=h.defined,M=h.extend,H=h.getNestedProperty,C=h.merge,B=h.pick,F=r.format;return function(d,e,l){var g=l.options.sonification||{},h=g.defaultInstrumentOptions,m=g.defaultSpeechOptions,v=C({enabled:!0,groupTimespan:15,algorithm:"minmax",prop:"y"},g.pointGrouping),n=g.globalTracks||[],q=g.globalContextTracks||
[],A="sequential"===g.order,H=Math.max(50,g.duration-300),y=g.afterSeriesWait,r=g.events||{},w=z(l),x=new a({onPlay:r.onPlay,onEnd:r.onEnd,onStop:r.onStop,showCrosshair:g.showCrosshair,showTooltip:g.showTooltip},l);l.sonification&&(l.sonification.propMetrics=w);var F=0;l.series.forEach(function(a,l){var g=a.options.sonification||{};if(a.visible&&!1!==g.enabled){var u=A?c(a,H,w,y):H,z=C(h,g.defaultInstrumentOptions),E=C(m,g.defaultSpeechOptions),G=C(v,g.pointGrouping),D=(g.tracks||[z]).concat(n);g=
x.channels.length&&!A?g.contextTracks||[]:(g.contextTracks||[]).concat(q);var N=[],I;D.forEach(function(c){function g(a){if(1===p.length)l({point:p[0].point,time:q+a/2});else{var b=K(m,p),c=a/b.length;b.forEach(function(a,b){return l({point:a,time:q+c/2+c*b})})}p=[]}function l(a){return N.push.apply(N,O(a,n,h,w))}function k(a){"object"===typeof v&&v.prop&&(I=t(a,v.prop))}var h=C({pointGrouping:G,midiName:c.midiName||a.name},"speech"===c.type?E:z,c),m=h.pointGrouping,v=h.activeWhen,n=b(x,d,e,h),p=
[],q=0;(a.points||[]).forEach(function(b,c){c=c===a.points.length-1;var d=F;d=f({point:b,time:0},w,A,h.mapping&&h.mapping.time||0,0,{min:0,max:u,mapTo:"x"})+d;var e={point:b,time:d};if(h.mapping&&L(e,v,I))if(k(b),m.enabled){b=d-q;var n=m.groupTimespan,t=c&&b<=n?b:n;c||b>n?(b<=n&&p.push(e),g(t),q=Math.floor(d/n)*n,c&&b>n?l({point:e.point,time:q+t/2}):p=[e]):p.push(e)}else l(e);else k(b),c&&p.length&&g(p[p.length-1].time-p[0].time)})});D=N.reduce(function(a,b){return b.time<a.time?b:a},{time:Infinity});
var P=N.reduce(function(a,b){return b.time>a.time?b:a},{time:-Infinity});D.callback=r.onSeriesStart?r.onSeriesStart.bind(null,{series:a,timeline:x}):void 0;P.callback=r.onSeriesEnd?r.onSeriesEnd.bind(null,{series:a,timeline:x}):void 0;g.forEach(function(a){function c(a,b){f.mapping&&L({time:a,value:b},"object"===typeof t?M({prop:n},t):t,I)?(I=b,"speech"===f.type?J({time:a,value:b},g,f.mapping,w,n):p({time:a,value:b},g,f.mapping,w,B(f.roundToMusicalNotes,!0),n)):I=b}var f="speech"===a.type?C(m,a):
C(h,{mapping:{pitch:{mapTo:"value"}}},a),g=b(x,d,e,f);I=void 0;a=f.timeInterval;var v=f.valueInterval,n=f.valueProp||"x",t=f.activeWhen,q=w.seriesExtremes[l][n];if(a)for(var A=0;A<=u;){var r=k(A,{min:0,max:u},q);c(A+F,r);A+=a}if(v)for(r=q.min;r<=q.max;)A=k(r,q,{min:0,max:u},!1,"logarithmic"===f.valueMapFunction),c(A+F,r),r+=v});A&&(F+=u+y)}});return x}});r(a,"Extensions/Sonification/Sonification.js",[a["Core/Defaults.js"],a["Core/Utilities.js"],a["Core/Globals.js"],a["Extensions/Sonification/Options.js"],
a["Extensions/Sonification/SonificationInstrument.js"],a["Extensions/Sonification/SonificationSpeaker.js"],a["Extensions/Sonification/SynthPatch.js"],a["Extensions/Sonification/InstrumentPresets.js"],a["Extensions/Sonification/TimelineFromChart.js"]],function(a,n,d,h,r,x,e,z,k){var q=a.defaultOptions,f=a.getOptions,c=n.addEvent,b=n.extend,p=n.fireEvent,g=n.merge,t=n.pick,O=d.doc,K=d.win;a=function(){function a(a){this.chart=a;this.lastUpdate=this.retryContextCounter=0;this.unbindKeydown=c(O,"keydown",
function(b){a&&a.sonification&&("Esc"===b.key||"Escape"===b.key)&&a.sonification.cancel()});try{this.audioContext=new K.AudioContext,this.audioContext.suspend(),this.audioDestination=this.audioContext.destination}catch(v){}}a.prototype.setAudioDestination=function(a){this.audioDestination=a;this.update()};a.prototype.isPlaying=function(){return!!this.timeline&&this.timeline.isPlaying};a.prototype.playSegment=function(a,b){this.ready(this.playSegment.bind(this,a,b))&&this.timeline&&this.timeline.playSegment(a,
b)};a.prototype.playAdjacent=function(a,b,c){var d=this;if(this.ready(this.playAdjacent.bind(this,a,b,c))&&this.timeline){var e=this.chart.options.sonification;(e=e&&e.events&&e.events.onBoundaryHit)||this.initBoundaryInstrument();this.timeline.playAdjacent(a,b,e||function(){d.defaultBoundaryHit()},c)}};a.prototype.playAdjacentSeries=function(a,b,c){void 0===b&&(b="x");var d=this.getLastPlayedPoint();if(d){var e=d.series.index+(a?1:-1);this.playClosestToProp(b,d[b],function(a){return!!a.relatedPoint&&
a.relatedPoint.series.index===e},c);return this.chart.series[e]||null}return null};a.prototype.playClosestToProp=function(a,b,c,d){var e=this;if(this.ready(this.playClosestToProp.bind(this,a,b,c,d))&&this.timeline){var f=this.chart.options.sonification;(f=f&&f.events&&f.events.onBoundaryHit)||this.initBoundaryInstrument();this.timeline.playClosestToPropValue(a,b,d,f||function(){return e.defaultBoundaryHit()},c)}};a.prototype.getLastPlayedPoint=function(){return this.timeline?this.timeline.getLastPlayedPoint():
null};a.prototype.playNote=function(a,b,c){void 0===c&&(c=0);if(this.ready(this.playNote.bind(this,a,b))){var d=b.noteDuration=b.noteDuration||500,e=new r(this.audioContext,this.audioDestination,{synthPatch:a,capabilities:{filters:!0,tremolo:!0,pan:!0}});e.scheduleEventAtTime(c/1E3,b);setTimeout(function(){return e&&e.destroy()},c+d+500)}};a.prototype.speak=function(a,b,c){void 0===c&&(c=0);(new x(g({language:"en-US",rate:1.5,volume:.4},b||{}))).sayAtTime(c,a)};a.prototype.cancel=function(){this.timeline&&
this.timeline.cancel();p(this,"cancel")};a.prototype.downloadMIDI=function(){this.ready(this.downloadMIDI.bind(this))&&this.timeline&&(this.timeline.reset(),this.timeline.downloadMIDI())};a.prototype.sonifyChart=function(a,b){this.ready(this.sonifyChart.bind(this,a,b))&&this.timeline&&(this.timeline.reset(),this.beforePlay(),this.timeline.play(void 0,void 0,a,b))};a.prototype.sonifySeries=function(a,b,c){this.ready(this.sonifySeries.bind(this,a,b,c))&&this.timeline&&(this.timeline.reset(),this.beforePlay(),
this.timeline.play(function(b){return!!b.relatedPoint&&b.relatedPoint.series===a},void 0,b,c))};a.prototype.sonifyPoint=function(a,b){this.ready(this.sonifyPoint.bind(this,a,b))&&this.timeline&&(this.timeline.reset(),this.beforePlay(),this.timeline.anchorPlayMoment(function(b){return b.relatedPoint===a},b))};a.prototype.setMasterVolume=function(a){this.timeline&&this.timeline.setMasterVolume(a)};a.prototype.destroy=function(){this.unbindKeydown();this.timeline&&(this.timeline.destroy(),delete this.timeline);
this.boundaryInstrument&&this.boundaryInstrument.stop();this.audioContext&&(this.audioContext.close(),delete this.audioContext)};a.prototype.update=function(){var a=this.chart.options&&this.chart.options.sonification;if(this.ready(this.update.bind(this))&&a){var b=Date.now(),c=a.updateInterval;b-this.lastUpdate<c&&!this.forceReady?(clearTimeout(this.scheduledUpdate),this.scheduledUpdate=setTimeout(this.update.bind(this),c/2)):(a=a.events||{},a.beforeUpdate&&a.beforeUpdate({chart:this.chart,timeline:this.timeline}),
this.lastUpdate=b,this.timeline&&this.timeline.destroy(),this.audioContext&&this.audioDestination&&(this.timeline=k(this.audioContext,this.audioDestination,this.chart),b=this.chart.options.sonification,this.timeline.setMasterVolume(t(b&&b.masterVolume,1))),a.afterUpdate&&a.afterUpdate({chart:this.chart,timeline:this.timeline}))}};a.prototype.ready=function(a){var b=this;if(!this.audioContext||!this.audioDestination||!this.chart.options||this.chart.options.sonification&&!1===this.chart.options.sonification.enabled)return!1;
if("suspended"===this.audioContext.state&&!this.forceReady)return 20>this.retryContextCounter++&&setTimeout(function(){b.audioContext&&"suspended"===b.audioContext.state?b.audioContext.resume().then(a):a()},5),!1;this.retryContextCounter=0;return!0};a.prototype.beforePlay=function(){var a=this.chart.options.sonification;(a=a&&a.events&&a.events.beforePlay)&&a({chart:this.chart,timeline:this.timeline})};a.prototype.initBoundaryInstrument=function(){this.boundaryInstrument||(this.boundaryInstrument=
new e(this.audioContext,g(z.chop,{masterVolume:.3})),this.boundaryInstrument.startSilently(),this.boundaryInstrument.connect(this.audioDestination))};a.prototype.defaultBoundaryHit=function(){this.boundaryInstrument&&(this.boundaryInstrument.playFreqAtTime(.1,1,200),this.boundaryInstrument.playFreqAtTime(.2,1,200))};return a}();(function(a){function d(){var b=this.sonification,c=this.options&&this.options.sonification;c&&c.enabled?b?b.update():(this.sonification=new a(this),this.sonification.update()):
b&&(b.destroy(),delete this.sonification)}function e(){this&&this.sonification&&this.sonification.destroy()}function h(){this.updateSonificationEnabled&&this.updateSonificationEnabled()}function k(a){if(a=a.options.sonification)g(!0,this.options.sonification,a),h.call(this)}var n=[];a.compose=function(a,g,l){-1===n.indexOf(a)&&(n.push(a),b(a.prototype,{updateSonificationEnabled:d,sonify:function(a){this.sonification&&this.sonification.sonifyChart(!1,a)},toggleSonify:function(a,b){void 0===a&&(a=!0);
if(this.sonification){var c=this.sonification.timeline;K.speechSynthesis&&K.speechSynthesis.cancel();c&&this.sonification.isPlaying()?a?this.sonification.cancel():c.pause():c&&c.isPaused?c.resume():this.sonification.sonifyChart(a,b)}}}),c(a,"destroy",e),c(a,"render",h),c(a,"update",k));-1===n.indexOf(g)&&(n.push(g),g.prototype.sonify=function(a){this.chart.sonification&&this.chart.sonification.sonifySeries(this,!1,a)});-1===n.indexOf(l)&&(n.push(l),l.prototype.sonify=function(a){this.series.chart.sonification&&
this.series.chart.sonification.sonifyPoint(this,a)});(a=f().exporting)&&a.buttons&&a.buttons.contextButton.menuItems&&a.buttons.contextButton.menuItems.push("separator","downloadMIDI","playAsSound")}})(a||(a={}));g(!0,q,h);"";return a});r(a,"Extensions/Sonification/Scales.js",[],function(){"";return{minor:[0,2,3,5,7,8,10],dorian:[0,2,3,5,7,9,10],harmonicMinor:[0,2,3,5,7,8,11],phrygian:[0,1,3,5,7,8,11],major:[0,2,4,5,7,9,11],lydian:[0,2,4,6,7,9,11],mixolydian:[0,2,4,5,7,9,10],majorPentatonic:[0,2,
4,7,9],minorPentatonic:[0,3,5,7,10]}});r(a,"masters/modules/sonification.src.js",[a["Core/Globals.js"],a["Extensions/Sonification/Sonification.js"],a["Extensions/Sonification/SynthPatch.js"],a["Extensions/Sonification/InstrumentPresets.js"],a["Extensions/Sonification/Scales.js"],a["Extensions/Sonification/SonificationInstrument.js"],a["Extensions/Sonification/SonificationSpeaker.js"],a["Extensions/Sonification/SonificationTimeline.js"]],function(a,n,d,h,r,x,e,z){a.sonification={InstrumentPresets:h,
Scales:r,SynthPatch:d,SonificationInstrument:x,SonificationSpeaker:e,SonificationTimeline:z,Sonification:n};n.compose(a.Chart,a.Series,a.Point)})});//# sourceMappingURL=sonification.js.map